(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-fetch-fetch"],{"03a3":function(t,e,a){"use strict";a.r(e);var i=a("5e58"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"0f72":function(t,e,a){"use strict";var i=a("7373"),n=a.n(i);n.a},"253d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"material"},[t._l(t.fetchs,function(e,i){return a("v-uni-view",{key:i,staticClass:"box-shadow"},[a("v-uni-view",{staticClass:"th fs30"},[a("v-uni-view",{staticClass:"mgl-20",on:{click:function(e){e=t.$handleEvent(e),t.goClassify(i)}}},[a("v-uni-text",{staticClass:"text-theme"},[t._v("*")]),t._v("物料类型:"),""!=e.cid?a("v-uni-text",{staticClass:" mgl-20 cname fs30"},[t._v(t._s(e.cname))]):t._e(),""==e.cid?a("v-uni-text",{staticClass:"text-999 mgl-20 cname"},[t._v("请选择物料类型")]):t._e(),a("v-uni-text",{staticClass:"mgl-20 iconfont icon-jiantou"})],1),t.fetchs.length>1?a("v-uni-view",{staticClass:"close_btn",on:{click:function(e){e=t.$handleEvent(e),t.closed(i)}}},[a("v-uni-image",{attrs:{src:"../../static/icon/close_btn.png"}})],1):t._e()],1),a("v-uni-view",{staticClass:"lh90 fs30 pdl-20 bb-1 area"},[a("v-uni-view",{staticClass:"cf",on:{click:function(e){e=t.$handleEvent(e),t.goAreaText(i)}}},[a("v-uni-text",{staticClass:"area"},[a("v-uni-text",{staticClass:"text-theme"},[t._v("*")]),t._v("服务区域:")],1),a("v-uni-view",{staticClass:"text-999 mgl-20 fs24 area-text flr"},[t._v(t._s(e.areaText))]),a("v-uni-text",{staticClass:"triangle-down"})],1)],1),a("v-uni-view",{staticClass:"pd-30 align-start fs30 cf field-warp"},[a("v-uni-view",{staticClass:"word-spacing field-txt"},[a("v-uni-text",{staticClass:"text-theme"},[t._v("*")]),t._v("描 述 ：")],1),t.isPopup||t.isNotes?t._e():a("v-uni-textarea",{staticClass:"height-200 field-desc",attrs:{placeholder:"(注：请详细描述物料的名称、用途、材质、交货时间)"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"item.desc"}})],1),a("v-uni-view",{staticClass:"flex-start form-add-img fs30 pdl-20 cf'"},[a("v-uni-view",{staticClass:"tl"},[a("v-uni-text",{staticStyle:{opacity:"0"}},[t._v("*")]),t._v("上传图片:")],1)],1),a("v-uni-view",{staticClass:"upload"},[a("upload",{attrs:{itemIndex:i,upLoadMaxNum:t.upLoadMaxNum,files:e.files},on:{imageUpload:function(e){e=t.$handleEvent(e),t.imageUpload(e)}}})],1),a("v-uni-view",{staticClass:"fs30"},[a("v-uni-view",{staticClass:"cell-padding fs30 lh90 mgt-20"},[a("v-uni-text",{staticClass:"text-theme"},[t._v("*")]),t._v("取样地址")],1),a("v-uni-view",{staticClass:"address flex flex-start pdt-30 pdb-30 pdl-20 pdr-20"},[a("v-uni-view",{staticClass:"iconfont icon-jiantou address-icon flr pdr-30"}),e.address?a("v-uni-view",{staticClass:"flex-1 address-info fs24",on:{click:function(e){e=t.$handleEvent(e),t.goConsigneeAddress(i)}}},[a("v-uni-view",{staticClass:"person",staticStyle:{"word-break":"break-all"}},[a("v-uni-text",[t._v(t._s(e.address.consignee)+"  "+t._s(e.address.mobile||""))]),e.address&&""!=e.address.remark?a("v-uni-text",{staticClass:"remark"},[t._v(t._s(e.address.remark||""))]):t._e()],1),a("v-uni-view",{staticStyle:{"word-break":"break-all"}},[a("v-uni-text",{staticClass:"text-999"},[t._v(t._s(e.address.stall||""))])],1),a("v-uni-view",[a("v-uni-view",{staticClass:"text-999"},[t._v(t._s(e.address.city_str||"")+" "+t._s(e.address.address||"")+" "+t._s(e.address.room||""))])],1)],1):t._e(),""==e.address?a("v-uni-view",{staticClass:"text-666 h100 lh100 flex-1",on:{click:function(e){e=t.$handleEvent(e),t.goConsigneeAddress(i)}}},[t._v("点击添加取样地址")]):t._e()],1)],1)],1)}),""==t.taskEditItem?a("v-uni-view",{staticClass:"add-find",on:{click:function(e){e=t.$handleEvent(e),t.addFind(e)}}},[a("v-uni-image",{attrs:{src:"../../static/icon/add-find.png"}}),a("v-uni-text",{staticStyle:{"font-size":"20rpx",color:"#999"}},[t._v("点击添加找料")])],1):t._e(),a("v-uni-button",{staticClass:"join-find lh90 fs30 mgb-30",on:{click:function(e){e=t.$handleEvent(e),t.fethchSubmit(e)}}},[t._v(t._s(""!=t.taskEditItem?"完成":"加入小鹿任务"))]),a("v-uni-view",{staticClass:"xuzhi",on:{click:function(e){e=t.$handleEvent(e),t.showNotes(e)}}},[a("v-uni-image",{attrs:{src:"../../static/icon/xuzhi.png"}}),a("v-uni-text",{staticClass:"fs24 text-999"},[t._v("《小鹿取送须知》")])],1),a("v-uni-view",{staticStyle:{height:"50rpx"}})],2),t.isPopup?a("v-uni-view",{staticClass:"index-popup"},[a("v-uni-view",{staticClass:"index-popup-bg",on:{click:function(e){e=t.$handleEvent(e),t.closePopup(e)}}}),a("v-uni-view",{staticClass:"index-popup-content"},[a("v-uni-view",{staticClass:"index-popup-title"},[t._v("加入小鹿任务成功！")]),a("v-uni-view",{staticClass:"index-popup-btn"},[a("v-uni-view",{staticClass:"go-pay",on:{click:function(e){e=t.$handleEvent(e),t.goPay(e)}}},[t._v("去结算("+t._s(t.payNum)+"s)")]),a("v-uni-view",{staticStyle:{color:"#F29800"},on:{click:function(e){e=t.$handleEvent(e),t.goBack(e)}}},[t._v("继续取送")])],1)],1)],1):t._e(),t.isNotes&&""!=t.findNeedKnow?a("v-uni-view",{staticClass:"index-popup notes-popup"},[a("v-uni-view",{staticClass:"index-popup-bg",on:{click:function(e){e=t.$handleEvent(e),t.hiddenNotes(e)}}}),a("v-uni-view",{staticClass:"index-popup-content notes-btn-content"},[a("v-uni-view",{staticClass:"index-popup-title"},[t._v("小鹿取送须知"),a("v-uni-text",{staticClass:"iconfont icon-del1",on:{click:function(e){e=t.$handleEvent(e),t.hiddenNotes(e)}}})],1),a("v-uni-view",{staticClass:"rich-text"},[a("v-uni-rich-text",{attrs:{nodes:t.deliveryNeedKnow}})],1),a("v-uni-view",{staticClass:"mgt-30 checkIsResNotes",on:{click:function(e){e=t.$handleEvent(e),t.checkIsResNotes(e)}}},[t.isResNotes?a("v-uni-text",{staticClass:"iconfont icon-dui icon-dui-1 fs40 pdl-10 text-yellow"}):t._e(),t.isResNotes?t._e():a("v-uni-text",{staticClass:"iconfont icon-yuan icon-yuan-1 fs40 pdl-10 text-eb"}),a("v-uni-text",{staticStyle:{color:"999","padding-left":"20rpx"}},[t._v("已阅读，下次不再显示")])],1),a("v-uni-view",{staticClass:"index-popup-btn notes-btn"},[a("v-uni-view",{staticClass:"text-red btn-shadow",on:{click:function(e){e=t.$handleEvent(e),t.hiddenNotes(e)}}},[t._v("确定")])],1)],1)],1):t._e()],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"40da":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.fail[data-v-0834eb5a]{color:#333;font-size:%?24?%;position:absolute;z-index:9999;top:0;left:0;opacity:.7;width:100%;background:#000;color:#fff}.upload-box[data-v-0834eb5a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.relative[data-v-0834eb5a]{position:relative;background:none!important}.hidden[data-v-0834eb5a]{display:none}.upload-img-box[data-v-0834eb5a]{width:%?160?%;height:%?160?%;line-height:%?160?%;text-align:center;font-size:%?120?%;color:#fff;background:#ccc;margin:%?10?% %?36?%;border-radius:%?10?%}.upload-img-box uni-image[data-v-0834eb5a]{width:%?160?%;height:%?160?%}\n/*删除icon  */.delete-icon[data-v-0834eb5a]{width:%?44?%!important;height:%?44?%!important;position:absolute;right:%?-12?%;top:%?-12?%;background:rgba(0,0,0,0);z-index:99999}',""])},5193:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.remark[data-v-08fe64e4]{border:%?1?% solid #f29800;color:#f29800;border-radius:%?5?%;margin-right:%?10?%;padding:0 %?5?%;display:inline!important;margin-left:%?20?%}.checkIsResNotes[data-v-08fe64e4]{padding-left:%?200?%}.cname[data-v-08fe64e4]{margin-left:%?50?%}.th[data-v-08fe64e4]{height:%?90?%;line-height:%?90?%;position:relative;border-top:%?1?% solid #eee}.th .close_btn uni-image[data-v-08fe64e4]{display:inline-block;width:%?56?%;height:%?56?%;margin-top:%?30?%;position:absolute;right:%?20?%;top:%?-10?%}.area[data-v-08fe64e4]{position:relative;top:%?-4?%}.address-info[data-v-08fe64e4]{position:relative;top:%?-30?%}.address-info uni-view[data-v-08fe64e4]{line-height:%?50?%}.close_btn uni-image[data-v-08fe64e4]{display:inline-block;width:%?56?%;height:%?56?%;margin-top:%?30?%;position:absolute;right:%?30?%;top:%?0?%}.add-find[data-v-08fe64e4]{text-align:center}.add-find uni-image[data-v-08fe64e4]{display:block;width:%?120?%;height:%?120?%;margin:0 auto;margin-top:%?40?%}.icon-jiantou[data-v-08fe64e4]{display:inline-block}.area[data-v-08fe64e4]{position:relative}.area .triangle-down[data-v-08fe64e4]{width:0;height:0;border-left:4px solid rgba(0,0,0,0);border-right:4px solid rgba(0,0,0,0);border-top:6px solid #999;position:absolute;right:%?50?%;top:%?44?%}.area .area-text[data-v-08fe64e4]{border:%?1?% solid #eee;padding:0 %?10?%;width:%?460?%;margin-left:%?50?%;height:%?60?%;line-height:%?60?%;margin:%?16?% %?30?% 0 0}.rich-text[data-v-08fe64e4]{padding:%?10?% %?30?%}.material-number[data-v-08fe64e4]{height:%?90?%;border-bottom:%?1?% solid #f4f4f4}.material-number uni-text[data-v-08fe64e4]{float:left}.sub[data-v-08fe64e4]{margin-left:%?50?%}.plu[data-v-08fe64e4],.sub[data-v-08fe64e4]{width:%?70?%;height:%?70?%;line-height:%?70?%;background-color:#eee;text-align:center;font-size:%?50?%;border-radius:%?10?%;margin-top:%?10?%}.material-input[data-v-08fe64e4]{margin:0 %?20?%;width:%?80?%;border:%?1?% solid #eee;height:%?68?%;display:inline-block;float:left;border-radius:%?10?%;margin-top:%?10?%;text-align:center}.material-describe-title[data-v-08fe64e4]{width:%?200?%}.material-describe uni-textarea[data-v-08fe64e4]{width:300px;height:150px;display:block;position:relative}.width-200[data-v-08fe64e4]{width:%?200?%}.height-200[data-v-08fe64e4]{height:%?200?%}.align-start[data-v-08fe64e4]{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;border-bottom:1px solid #f0eff5}.word-spacing[data-v-08fe64e4]{word-spacing:%?12?%}.join-find[data-v-08fe64e4]{text-align:center;background-color:#f29800;margin:0 %?20?%;border-radius:%?10?%;margin-top:%?50?%;color:#fff}.field-desc[data-v-08fe64e4]{position:relative;top:%?0?%;left:%?20?%;width:%?470?%;height:%?230?%;overflow:hidden;background:#f5f5f5;font-size:%?24?%;padding:%?10?%}.field-txt[data-v-08fe64e4]{float:left;width:%?150?%}.field-warp[data-v-08fe64e4]{position:relative;z-index:9}.index-popup[data-v-08fe64e4]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:999999}.index-popup-bg[data-v-08fe64e4]{width:100%;height:100%;background-color:#000;opacity:.7;position:absolute;left:0;top:0;z-index:9999}.index-popup-content[data-v-08fe64e4]{width:%?700?%;height:%?330?%;background-color:#fff;position:absolute;top:20%;left:%?25?%;border-radius:%?10?%;z-index:9999}.index-popup-title[data-v-08fe64e4]{height:%?100?%;line-height:%?100?%;font-size:%?36?%;text-align:center}.index-popup-main[data-v-08fe64e4]{font-size:%?30?%;padding:0 %?80?%;border-bottom:1px solid #f4f4f4}.index-popup-main .index-popup-view-1[data-v-08fe64e4]{letter-spacing:9px;line-height:%?90?%;height:%?90?%;float:left}.findInput[data-v-08fe64e4],.plu[data-v-08fe64e4],.sub[data-v-08fe64e4]{float:left;margin-top:%?10?%}.plu[data-v-08fe64e4],.sub[data-v-08fe64e4]{font-size:%?40?%;display:inline-block;height:%?70?%;line-height:%?70?%;width:%?70?%;background-color:#eee;border-radius:%?10?%;text-align:center;position:relative}.index-popup-main uni-input[data-v-08fe64e4]{display:inline-block;height:%?68?%;line-height:%?68?%;width:%?80?%;border:%?1?% solid #f4f4f4;border-radius:%?10?%;padding-left:%?20?%;margin:0 %?20?%;margin-top:%?10?%}.index-popup-check[data-v-08fe64e4]{padding:0 %?80?%;height:%?90?%;line-height:%?90?%;border-bottom:%?1?% solid #f4f4f4}.index-popup-check uni-view[data-v-08fe64e4]{display:inline-block;margin-left:%?30?%;font-size:%?30?%}.index-popup-check uni-view[data-v-08fe64e4]:first-child{margin-left:0}.doSubmit[data-v-08fe64e4]{width:%?350?%;height:%?80?%;line-height:%?80?%;text-align:center;margin:0 auto;background-color:#f29800;border-radius:%?20?%;font-size:%?30?%;color:#fff;margin-top:%?60?%}.index-popup-btn uni-view[data-v-08fe64e4]{display:inline-block;width:%?256?%;height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?30?%;margin-left:%?60?%;margin-top:%?20?%;border:%?1?% solid #f29800;border-radius:%?10?%}.go-pay[data-v-08fe64e4]{background-color:#f29800;color:#fff}.index-popup[data-v-08fe64e4]{width:100%;height:100%;position:fixed;top:0;left:0;z-index:999999}.index-popup-bg[data-v-08fe64e4]{width:100%;height:100%;background-color:#000;opacity:.7;position:absolute;left:0;top:0}.index-popup-content[data-v-08fe64e4]{width:%?700?%;min-height:%?330?%;background-color:#fff;position:absolute;top:20%;left:%?25?%;border-radius:%?10?%}.index-popup-title[data-v-08fe64e4]{height:%?100?%;line-height:%?100?%;font-size:%?36?%;text-align:center;position:relative}.index-popup-main[data-v-08fe64e4]{font-size:%?30?%;padding:%?20?% %?30?%;border-bottom:1px solid #f4f4f4}.index-popup-main .index-popup-view-1[data-v-08fe64e4]{letter-spacing:9px;line-height:%?90?%;height:%?90?%;float:left}.index-popup-main uni-input[data-v-08fe64e4]{display:inline-block;height:%?68?%;line-height:%?68?%;width:%?80?%;border:%?1?% solid #f4f4f4;border-radius:%?10?%;padding-left:%?20?%;margin:0 %?20?%;margin-top:%?10?%}.index-popup-check[data-v-08fe64e4]{padding:0 %?80?%;height:%?90?%;line-height:%?90?%;border-bottom:%?1?% solid #f4f4f4}.index-popup-check uni-view[data-v-08fe64e4]{display:inline-block;margin-left:%?30?%;font-size:%?30?%}.index-popup-check uni-view[data-v-08fe64e4]:first-child{margin-left:0}.doSubmit[data-v-08fe64e4]{width:%?350?%;height:%?80?%;line-height:%?80?%;text-align:center;margin:0 auto;background-color:#f29800;border-radius:%?20?%;font-size:%?30?%;color:#fff;margin-top:%?60?%}.index-popup-btn uni-view[data-v-08fe64e4]{display:inline-block;width:%?256?%;height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?30?%;margin-left:%?60?%;margin-top:%?20?%;border:%?1?% solid #f29800;border-radius:%?10?%}.xuzhi[data-v-08fe64e4]{text-align:center;margin:0 auto;margin-bottom:%?30?%;margin-top:%?30?%}.xuzhi uni-image[data-v-08fe64e4]{width:%?35?%;height:%?35?%;margin-right:%?5?%;position:relative;top:%?8?%}.notes-btn[data-v-08fe64e4]{margin-top:%?30?%;margin-bottom:%?50?%}.notes-btn uni-view[data-v-08fe64e4]{margin-left:%?218?%;background-color:#f29800;color:#fff}.notes-btn-content[data-v-08fe64e4]{height:88%;top:6%;overflow-y:auto}.index-popup-main uni-view[data-v-08fe64e4]{line-height:%?50?%}.icon-del1[data-v-08fe64e4]{position:absolute;font-size:%?50?%;right:%?20?%;top:%?-10?%;color:#999}\n/* 2.2改版 */.icon-dizhi[data-v-08fe64e4]{font-size:%?50?%}.address-icon[data-v-08fe64e4]{position:absolute;top:40%;right:0}.address[data-v-08fe64e4]{position:relative;padding-right:%?70?%}.flex[data-v-08fe64e4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.pd20[data-v-08fe64e4]{padding-top:%?20?%}.form-add-img .tl[data-v-08fe64e4]{line-height:%?88?%}.upload[data-v-08fe64e4]{border-bottom:%?1?% solid #eee;padding-bottom:%?30?%}',""])},"5e58":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=d(a("e378")),n=d(a("0089")),s=d(a("8dde"));function d(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{cid:"",cname:"",files:[],isResNotes:!1,isNotes:!1,isSelect:!1,checkTypes:"",checkType:"",checkTypes_cid:"",findNum:1,describeValue:"",desc:"",fecthPrice:0,isPopup:!1,payNum:10,address:"",deliveryNeedKnow:"",isFetchNotes:!1,totalFecthPrice:"",interval:"",taskEditItem:"",fetchs:[{address:"",cname:"",cid:"",desc:"",desc_img:[],address_id:"",is_limit:0,area_id:"",areaText:"",files:[],is_compare:0}]}},components:{upload:s.default},onLoad:function(t){var e=this;if(""==this.$data.taskEditItem&&""==uni.getStorageSync("isFetchNotes")&&(this.$data.isNotes=!0),t.taskEditItem){this.$data.isNotes=!1,uni.setNavigationBarTitle({title:"修改任务"}),this.$data.taskEditItem=uni.getStorageSync("fetchItem");var a=this.$data.taskEditItem;if(this.$data.fetchs[0].cid=a.cid,this.$data.fetchs[0].cname=a.cname,this.$data.fetchs[0].desc=a.desc,this.$data.fetchs[0].address_id=a.address_id,this.$data.fetchs[0].address=a.address,this.$data.fetchs[0].area_id=a.area_id,this.$data.fetchs[0].areaText=a.areaText,this.$data.fetchs[0].is_compare=a.is_compare,this.$data.fetchs[0].is_limit=a.is_limit,a.desc_img.length>0){var i=[];a.desc_img.forEach(function(t,e){var a={url:t,pct:"finish"};i.push(a)}),this.$data.fetchs[0].files=i}}else uni.setNavigationBarTitle({title:"立即取送"});n.default.needKnow({}).then(function(t){200!=t.code&&0!=t.code||(e.$data.deliveryNeedKnow=t.data.delivery_need_know)}),this.getTaskFee(),this.getDefaultAddress(),this.initArea()},onShow:function(){var t=this;this.$eventHub.$on("classifyData",function(e){t.$data.isNotes=!1,t.$data.cid=e.cid,t.$data.cname=e.cname,t.$data.fetchs[e.index].cid=e.cid,t.$data.fetchs[e.index].cname=e.cname,t.$eventHub.$off("classifyData")}),this.$eventHub.$on("fetchPage",function(e){console.log("fetchPage:",e),t.$data.fetchs[e.findIndex].address=e.address,t.$data.address=e.address,t.$eventHub.$off("fetchPage")})},methods:{checkLimit:function(t){this.$data.fetchs[t].is_limit=0==this.$data.fetchs[t].is_limit?1:0},initArea:function(){var t=this;n.default.findArea({}).then(function(e){200!=e.code&&0!=e.code||(t.$data.areaText=e.data[0].name,t.$data.area_id=e.data[0].id,t.$data.fetchs[0].areaText=e.data[0].name,t.$data.fetchs[0].area_id=e.data[0].id,""==t.$data.taskEditItem?(t.$data.areaText=e.data[0].name,t.$data.area_id=e.data[0].id,t.$data.fetchs[0].areaText=e.data[0].name,t.$data.fetchs[0].area_id=e.data[0].id):(t.$data.areaText=t.$data.fetchs[0].name,t.$data.area_id=t.$data.fetchs[0].id,e.data.forEach(function(a,i){a.id==t.$data.fetchs[0].area_id&&(t.$data.fetchs[0].areaText=e.data[i].name)})))})},goAreaText:function(t){var e=this;n.default.findArea({}).then(function(a){if(200==a.code||0==a.code){var n=a.data,s=[];n.forEach(function(t,e){s.push(t.name)}),uni.showActionSheet({itemList:s,success:function(a){console.log("选中了第"+(a.tapIndex+1)+"个按钮"),e.$data.fetchs[t].area_id=n[a.tapIndex].id,e.$data.fetchs[t].areaText=n[a.tapIndex].name,i.default.successTips("区域选择成功")},fail:function(t){console.log(t.errMsg)}})}})},closed:function(t){var e=this;uni.showModal({title:"提示",content:"确认删除吗？",confirmText:"确认",success:function(a){a.confirm?e.$data.fetchs.splice(t,1):a.cancel&&i.default.errorTips("您点击了取消")}})},addFind:function(){var t={address:this.$data.address,cname:this.$data.cname,cid:this.$data.cid,desc:"",desc_img:[],address_id:"",is_limit:0,area_id:this.$data.area_id,areaText:this.$data.areaText,files:[],is_compare:0};this.$data.fetchs.push(t)},imageUpload:function(t){this.$data.files=t.files},goClassify:function(t){uni.navigateTo({url:"../classify/classify?from=2&index="+t})},checkIsResNotes:function(){this.$data.isResNotes=!this.$data.isResNotes,this.$data.isResNotes?uni.setStorageSync("isFetchNotes",!0):uni.removeStorageSync("isFetchNotes")},getTaskFee:function(){var t=this;n.default.getTaskFee({}).then(function(e){200==e.code||0==e.code?(t.$data.fecthPrice=e.data.fetch_price,t.$data.totalFecthPrice=i.default.formatMoney(e.data.fetch_price),uni.setStorageSync("fecthPrice",e.data.fetch_price)):i.default.errorTips("获取单价失败")})},showNotes:function(){this.$data.isNotes=!0},hiddenNotes:function(){this.$data.isNotes=!1},sub:function(){if(this.$data.findNum<=1)return i.default.errorTips("最少1个取料单"),!1;this.$data.findNum--,this.$data.totalFecthPrice=i.default.formatMoney(this.$data.fecthPrice*this.$data.findNum)},plu:function(){if(this.$data.findNum>=10)return i.default.errorTips("最多10个取料单"),!1;this.$data.findNum++,this.$data.totalFecthPrice=i.default.formatMoney(this.$data.fecthPrice*this.$data.findNum)},changeNumber:function(t){this.$data.findNum=t.detail.value,this.$data.totalFecthPrice=i.default.formatMoney(this.$data.fecthPrice*this.$data.findNum)},getDefaultAddress:function(){var t=this;n.default.defaultAddress({}).then(function(e){0!=e.code&&200!=e.code||(t.$data.fetchs[0].address=e.data,t.$data.fetchs[0].address_id=e.data.id,t.$data.address=e.data)})},goConsigneeAddress:function(t){uni.navigateTo({url:"../address/address?from=fetchPage&findIndex="+t})},goPay:function(){var t=this;this.$data.payNum=10,clearInterval(this.$data.interval),uni.reLaunch({url:"../index/index",success:function(){t.$store.commit("change_page",1)}})},goBack:function(){this.$data.payNum=10,clearInterval(this.$data.interval),this.$data.isPopup=!1},fethchSubmit:function(t){for(var e=this,a=this,s=this.$data.fetchs,d=function(t){var e=[],a=s[t].files.every(function(t,e){return t.pct&&"finish"===t.pct});return a?(s[t].files.forEach(function(t,a){t.url&&e.push(t.url)}),s[t].desc_img=e,""==s[t].cname?(i.default.errorTips("第"+(t+1)+"个任务,请填写物料品类"),{v:!1}):""==s[t].desc?(i.default.errorTips("第"+(t+1)+"个任务,请填写描述"),{v:!1}):""==s[t].address?(i.default.errorTips("第"+(t+1)+"个任务,请添加地址"),{v:!1}):(s[t].type=2,void(s[t].address_id=s[t].address.id))):(i.default.errorTips("第"+(t+1)+"个任务,图片正在上传"),{v:!1})},o=0;o<s.length;o++){var r=d(o);if("object"===typeof r)return r.v}var c={task:s};""!=this.$data.taskEditItem?(c.task[0].id=this.$data.taskEditItem.id,n.default.updateTaskInit({method:"POST",data:c.task[0]}).then(function(t){200==t.code||0==t.code?(e.$eventHub.$emit("editData",c),uni.navigateBack({delta:1})):i.default.errorTips(t.msg)}).catch(function(t){i.default.errorTips(t.msg)})):n.default.joinTask({method:"POST",data:c}).then(function(t){console.log(t),200==t.code||0==t.code?(e.$data.isPopup=!0,a.$data.interval=setInterval(function(){a.$data.payNum--,0==a.$data.payNum&&(a.$data.isPopup=!1,clearInterval(a.$data.interval),a.goPay(),a.$data.payNum=10)},1e3)):i.default.errorTips(t.msg)}).catch(function(t){i.default.errorTips(t.msg)})}}};e.default=o},"6bff":function(t,e,a){"use strict";var i=a("c8f3"),n=a.n(i);n.a},7284:function(t,e,a){"use strict";a.r(e);var i=a("ac19"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},7373:function(t,e,a){var i=a("5193");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6a200826",i,!0,{sourceMap:!1,shadowMode:!1})},8358:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"upload-box"},[t._l(t.files,function(e,i){return t.files.length>0?a("v-uni-view",{key:i,staticClass:"upload-img-box relative"},[a("v-uni-image",{staticClass:"img",attrs:{src:e.url}}),a("v-uni-image",{staticClass:"delete-icon",attrs:{src:"/static/icon/del.png"},on:{click:function(e){e=t.$handleEvent(e),t.deleteItem(i)}}}),"wait"==e.pct?a("v-uni-view",{staticClass:"fail"},[t._v("图片上传中...")]):t._e(),"fail"==e.pct?a("v-uni-view",{staticClass:"fail"},[t._v("图片上传失败")]):t._e()],1):t._e()}),t.files.length<9?a("v-uni-view",{staticClass:"upload-img-box",on:{click:function(e){e=t.$handleEvent(e),t.uploadAll(e)}}},[a("v-uni-image",{attrs:{src:"/static/icon/upload_bg.png",mode:""}})],1):t._e()],2)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"8dde":function(t,e,a){"use strict";a.r(e);var i=a("8358"),n=a("7284");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("6bff");var d=a("2877"),o=Object(d["a"])(n["default"],i["a"],i["b"],!1,null,"0834eb5a",null);e["default"]=o.exports},ac19:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("e378")),n=s(a("0089"));function s(t){return t&&t.__esModule?t:{default:t}}var d={data:function(){return{addUpload:!0,index:0}},props:{upLoadMaxNum:{type:Number,default:9},files:{type:Array},itemIndex:{type:Number,default:0}},created:function(){this.$data.files=this.files,this.$data.upLoadMaxNum=this.upLoadMaxNum,this.$data.index=this.files.length,this.$data.itemIndex=this.itemIndex},mounted:function(){},methods:{uploadAll:function(){var t=this,e=this;this.$data.files>0&&(this.$data.index=this.$data.files.length-1);var a=this.$data.upLoadMaxNum-this.$data.files.length;uni.chooseImage({count:a,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var i=t.$data.files;a.tempFilePaths.forEach(function(t,e){var a={url:t,pct:"wait"};i.push(a)}),e.uploadServcer(i,e.$data.index)}})},uploadServcer:function(t,e){var a=this,s=this,d=uni.getStorageSync("access_token"),o=Date.parse(new Date),r={file:"[object Object]",type:"big"};r.timestamp=o,r.sign=i.default.makeSign(n.default.apiUrl+"/api/upload",r),r.deviceId="uniapp",r.platformType="1",r.versionCode="4.0";uni.uploadFile({url:"".concat(n.default.apiUrl,"/api/upload"),filePath:s.files[e].url,name:"file",header:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(d)},formData:r,success:function(t){console.log(t);t=JSON.parse(t.data);200!==t.code&&0!==t.code||(console.log(s),s.$data.files[e].url=t.data,s.$data.files[e].pct="finish")},fail:function(t){console.log(t),s.$data.files[e].pct="fail",console.log(s.$data.files)},complete:function(){e++,s.$data.index=e,e==s.$data.files.length?(console.log("执行完毕"),a.$emit("imageUpload",{files:s.$data.files,itemIndex:s.$data.itemIndex})):(console.log(e),s.uploadServcer(s.$data.files,e))}})},deleteItem:function(t){var e=this.$data.files;e.every(function(t,e){return"finish"===t.pct||"fail"===t.pct});e.splice(t,1),this.$data.index-=1,this.$data.files=e}}};e.default=d},c679:function(t,e,a){"use strict";a.r(e);var i=a("253d"),n=a("03a3");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("0f72");var d=a("2877"),o=Object(d["a"])(n["default"],i["a"],i["b"],!1,null,"08fe64e4",null);e["default"]=o.exports},c8f3:function(t,e,a){var i=a("40da");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("424a5a5d",i,!0,{sourceMap:!1,shadowMode:!1})}}]);