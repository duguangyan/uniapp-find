(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-fetchPage-fetchOrderDetail-fetchOrderDetail"],{"4bde":function(t,a,i){var e=i("d6cc");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("e3ad3140",e,!0,{sourceMap:!1,shadowMode:!1})},a3a3:function(t,a,i){"use strict";var e=i("4bde"),s=i.n(e);s.a},b804:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"find-order-detail"},[i("v-uni-view",{staticClass:"container tl"},[i("v-uni-view",{staticClass:"b500 tl padding lh60 text-yellow"},[t._v(t._s(t.detailData.status_label))]),i("v-uni-view",{staticClass:"padding fs30"},[i("v-uni-view",[i("v-uni-text",{staticClass:"c999"},[t._v("物料类型：")]),i("v-uni-text",{staticClass:"text-666 fs24"},[t._v(t._s(t.detailData.cname))])],1),i("v-uni-view",{staticClass:"flex"},[i("v-uni-view",{staticClass:"c999"},[t._v("物料描述：")]),i("v-uni-view",{staticClass:"flex-1 text-666 fs24"},[t._v(t._s(t.detailData.desc))])],1),i("v-uni-view",{staticClass:"flex"},[i("v-uni-view",{staticClass:"c999"},[t._v("比较优选：")]),i("v-uni-view",{staticClass:"flex-1 text-666 fs24"},[t._v("参考价格 ￥ "+t._s(t.detailData.reference_price))])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"flex flex-start pdb30 image"},t._l(t.detailData.desc_img,function(a,e){return i("v-uni-image",{key:e,attrs:{src:a,"data-idx":e,mode:"aspectFill"},on:{click:function(a){a=t.$handleEvent(a),t.preview(a)}}})}),1)],1),i("v-uni-view",{staticClass:"item-right fs24 text-yellow"},[i("v-uni-view",{staticClass:"c999"},[t._v(t._s(t.detailData.find_type_label))]),i("v-uni-view",{staticClass:"c999"},[t._v("费用:￥"+t._s(t.detailData.fee))])],1)],1),i("v-uni-view",{staticClass:"top20"}),t.detailData.get_address?i("v-uni-view",{staticClass:"get-address"},[i("v-uni-view",{staticClass:"t1 fs28"},[t._v("取料地址")]),i("v-uni-view",{staticClass:"t2 fs24"},[i("v-uni-text",[t._v("收货人 "+t._s(t.detailData.get_address.mobile))]),t.detailData.get_address.stall?i("v-uni-text",[t._v(t._s(t.detailData.get_address.stall))]):t._e()],1),i("v-uni-view",{staticClass:"t3 fs24 text-999"},[t._v(t._s(t.detailData.get_address.address))])],1):t._e(),t.detailData.shipping_address?i("v-uni-view",{staticClass:"get-address"},[i("v-uni-view",{staticClass:"t1 fs28"},[t._v("送料地址")]),i("v-uni-view",{staticClass:"t2 fs24"},[i("v-uni-text",[t._v("收货人 "+t._s(t.detailData.shipping_address.mobile))]),t.detailData.shipping_address.stall?i("v-uni-text",[t._v(t._s(t.detailData.shipping_address.stall))]):t._e()],1),i("v-uni-view",{staticClass:"t3 fs24 text-999"},[t._v(t._s(t.detailData.shipping_address.address))])],1):t._e(),i("v-uni-view",{staticClass:"pdl-30 bt-1 lh100"},[i("v-uni-text",{staticClass:"fs28"},[t._v("配送方式:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v(t._s(t.detailData.find_type_label))])],1),i("v-uni-view",{staticClass:"pdl-30 bt-1 top20 order_sn"},[i("v-uni-view",[i("v-uni-text",{staticClass:"fs28"},[t._v("订单编号:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v(t._s(t.detailData.order_sn))])],1),i("v-uni-view",[i("v-uni-text",{staticClass:"fs28"},[t._v("下单时间:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v(t._s(t.detailData.created_at))])],1)],1),3==t.detailData.distribution_status?i("v-uni-view",{staticClass:"order-info"},[i("v-uni-view",{staticClass:"desc cf"},[i("v-uni-view",{staticClass:"t1 fll"},[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),i("v-uni-text",[t._v("描述:")])],1),i("v-uni-view",{staticClass:"t2 fll"},[t.isLogistics||t.formShow?t._e():i("v-uni-textarea",{attrs:{disabled:t.disabled,placeholder:"(注:请详细描述物料的名称、用途、材质、交货时间)"},model:{value:t.detailData.result_desc,callback:function(a){t.$set(t.detailData,"result_desc",a)},expression:"detailData.result_desc"}})],1)],1),i("v-uni-view",{staticClass:"upload"},[i("v-uni-view",{staticClass:"t1 fs28"},[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),i("v-uni-text",[t._v("上传图片:")])],1),i("v-uni-view",{staticClass:"t2"},[i("v-uni-view",{staticClass:"desc_img"},t._l(t.detailData.result_img,function(t,a){return i("v-uni-image",{key:a,attrs:{src:t,mode:""}})}),1)],1)],1),i("v-uni-view",{staticClass:"supplier cf"},[i("v-uni-view",{staticClass:"fll t1 fs28"},[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),i("v-uni-text",[t._v("配送员:")])],1),i("v-uni-view",{staticClass:"t2 fll"},[i("v-uni-view",[t._v(t._s(t.detailData.distribution_name))])],1)],1),i("v-uni-view",{staticClass:"price cf"},[i("v-uni-view",{staticClass:"t1 fll"},[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),i("v-uni-text",[t._v("物料单价:")])],1),i("v-uni-view",{staticClass:"t2 fll"},[i("v-uni-view",[t._v(t._s(t.detailData.result_price))])],1)],1),i("v-uni-view",{staticClass:"mun1 cf fs28"},[i("v-uni-view",{staticClass:"t1 fll"},[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),i("v-uni-text",[t._v("物料数量:")])],1),i("v-uni-view",{staticClass:"t2 fll"},[i("v-uni-text",[t._v(t._s(t.detailData.result_num))]),i("v-uni-text",{staticClass:"piece"},[t._v("件")])],1)],1),i("v-uni-view",{staticClass:"mun2 cf fs28"},[i("v-uni-view",{staticClass:"t1 fll"},[i("v-uni-text",{staticClass:"text-red",staticStyle:{opacity:"0"}},[t._v("*")]),i("v-uni-text",[t._v("大货数量:")])],1),i("v-uni-view",{staticClass:"t2 fll"},[i("v-uni-text",[t._v(t._s(t.detailData.result_big_num))]),i("v-uni-text",{staticClass:"piece"},[t._v("件")]),i("v-uni-text",{staticClass:"text-red mgl-20"},[t._v("* ￥"+t._s(t.big_price))])],1)],1),i("v-uni-view",{staticClass:"cost"},[i("v-uni-text",{staticClass:"t1 fs28"},[t._v("合计费用:")]),i("v-uni-text",{staticClass:"t2 mgl-20 text-red"},[t._v("￥ "+t._s(t.totalFee))])],1)],1):t._e(),t.detailData.distribution_status>=4?i("v-uni-view",{staticClass:"status-2"},[i("v-uni-view",{staticClass:"li"},[i("v-uni-text",{staticClass:"fs28"},[t._v("物料单价:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v("￥"+t._s(t.detailData.result_price))])],1),i("v-uni-view",{staticClass:"li"},[i("v-uni-text",{staticClass:"fs28"},[t._v("物料数量:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v(t._s(t.detailData.result_num))])],1),i("v-uni-view",{staticClass:"li"},[i("v-uni-text",{staticClass:"fs28"},[t._v("大货配送费:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v("￥"+t._s(t.detailData.result_extra_fee)+" ("+t._s(t.detailData.result_big_num)+" * "+t._s(t.big_price)+")")])],1),t.detailData.desc_img.length>0&&t.detailData.desc_img?i("v-uni-view",{staticClass:"img cf"},t._l(t.detailData.desc_img,function(t,a){return i("v-uni-image",{key:a,staticClass:"fll",attrs:{src:t,mode:""}})}),1):t._e()],1):t._e(),6==t.detailData.distribution_status?i("v-uni-view",{staticClass:"evaluate pd-30 bt-1"},[i("v-uni-view",{staticClass:"v1"},[i("v-uni-text",{staticClass:"fs28"},[t._v("找料服务:")]),i("v-uni-text",{staticClass:"mgl-20"},t._l(t.detailData.find_star,function(t){return i("v-uni-text",{key:t,staticClass:"star iconfont icon-star text-yellow"})}),1)],1),i("v-uni-view",{staticClass:"v1"},[i("v-uni-text",{staticClass:"fs28"},[t._v("配送服务:")]),i("v-uni-text",{staticClass:"mgl-20"},t._l(t.detailData.dist_star,function(t){return i("v-uni-text",{key:t,staticClass:"star iconfont icon-star text-yellow"})}),1)],1),i("v-uni-view",{staticClass:"v1"},[i("v-uni-text",{staticClass:"fs28"},[t._v("服务反馈:")]),i("v-uni-text",{staticClass:"fs24 text-999 mgl-20"},[t._v(t._s(t.detailData.comment))])],1)],1):t._e(),i("v-uni-view",{staticClass:"flex-end order-handle cf"},[2==t.detailData.distribution_status?i("v-uni-view",{staticClass:"find-status flr",on:{click:function(a){a=t.$handleEvent(a),t.receiptOrder(t.detailData.id)}}},[t._v("确认接单")]):t._e(),3==t.detailData.distribution_status?i("v-uni-view",{staticClass:"find-status flr",on:{click:function(a){a=t.$handleEvent(a),t.serviceOrder(t.detailData.id)}}},[t._v("确认送达")]):t._e(),""!=t.detailData.user_id?i("v-uni-view",{staticClass:"find-status flr",on:{click:function(a){a=t.$handleEvent(a),t.goChat(t.detailData)}}},[t._v("联系客户")]):t._e()],1)],1),t.formShow?i("v-uni-view",{staticClass:"pop-window"},[i("v-uni-view",{staticClass:"form-box-2"},[i("v-uni-text",{staticClass:"iconfont icon-guanbi close",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.close(a)}}}),i("v-uni-view",[i("v-uni-view",{staticClass:"fs34 b600"},[t._v("填写原因")]),i("v-uni-textarea",{staticClass:"tl reason bdb bdt textarea",attrs:{placeholder:1==t.detailData.type?"请填写找不到物料的原因":"请填写取不到物料的原因"},model:{value:t.remark,callback:function(a){t.remark=a},expression:"remark"}}),i("v-uni-view",{staticClass:"submit-box flex bt-1"},[i("v-uni-view",{staticClass:"flex-1 fs28",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.close(a)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"flex-1 fs28 sub",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.unFormSubmit(a)}}},[t._v("提交")])],1)],1)],1)],1):t._e(),t.isLogistics?i("v-uni-view",{staticClass:"logistics-wap"},[i("v-uni-view",{staticClass:"bg",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.hideLogistics(a)}}}),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"v1"},[i("v-uni-text",[t._v("物流公司:")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入物流公司名称"},model:{value:t.express_name,callback:function(a){t.express_name=a},expression:"express_name"}})],1),i("v-uni-view",{staticClass:"v2"},[i("v-uni-text",[t._v("联系电话:")]),i("v-uni-input",{attrs:{type:"number",placeholder:"请输入物流公司电话"},model:{value:t.express_phone,callback:function(a){t.express_phone=a},expression:"express_phone"}})],1),i("v-uni-view",{staticClass:"v3",on:{click:function(a){a=t.$handleEvent(a),t.logisticsSubmit(a)}}},[i("v-uni-text",[t._v("物流单号:")]),i("v-uni-input",{attrs:{type:"number",placeholder:"请输入物流单号"},model:{value:t.express_sn,callback:function(a){t.express_sn=a},expression:"express_sn"}})],1),i("v-uni-view",{staticClass:"btn",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.logisticsSubmit(a)}}},[t._v("提交")]),i("v-uni-view",{staticClass:"closeBtn",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a),t.hideLogistics(a)}}},[i("v-uni-image",{attrs:{src:"/static/icon/closed_btn.png",mode:""}})],1)],1)],1):t._e()],1)},s=[];i.d(a,"a",function(){return e}),i.d(a,"b",function(){return s})},c33c:function(t,a,i){"use strict";i.r(a);var e=i("fab1"),s=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,function(){return e[t]})}(n);a["default"]=s.a},d6cc:function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.status-2[data-v-6501abd5]{padding:%?30?%;border-top:%?1?% solid #f4f4f4;background:#fff}.status-2 .img[data-v-6501abd5]{display:inline-block;margin:%?20?%}.status-2 .img uni-image[data-v-6501abd5]{width:%?140?%;height:%?140?%;display:inline-block;margin-right:%?20?%}.logistics-wap[data-v-6501abd5]{position:fixed;left:0;top:0;width:100%;height:100%}.logistics-wap .content[data-v-6501abd5]{width:%?450?%;height:%?450?%;position:absolute;left:%?130?%;top:%?200?%;background:#fff;z-index:99999;border-radius:%?10?%;padding:%?50?%;margin-top:%?20?%}.logistics-wap .content .closeBtn[data-v-6501abd5]{position:absolute;top:%?0?%;right:%?20?%;width:%?40?%;height:%?40?%;z-index:999999}.logistics-wap .content .closeBtn uni-image[data-v-6501abd5]{width:%?40?%;height:%?40?%}.logistics-wap .content .btn[data-v-6501abd5]{width:%?436?%;height:%?64?%;line-height:%?64?%;text-align:center;background:#f29800;border-radius:%?8?%;font-size:%?32?%;margin:0 auto;color:#fff;position:relative;top:%?60?%}.logistics-wap .content uni-view[data-v-6501abd5]{line-height:%?100?%}.logistics-wap .content uni-view uni-text[data-v-6501abd5]{display:inline-block;font-size:%?32?%}.logistics-wap .content uni-view uni-input[data-v-6501abd5]{display:inline-block;border:%?1?% solid #f4f4f4;padding-left:%?20?%;margin-left:%?30?%;position:relative;top:%?20?%;width:%?250?%;background:#f4f4f4;color:#333;border-radius:%?10?%;position:relative;top:%?-4?%}.logistics-wap .bg[data-v-6501abd5]{width:100%;height:100%;background:#000;opacity:.6}.desc_img uni-image[data-v-6501abd5]{width:%?200?%;height:%?200?%}.textarea[data-v-6501abd5]{margin:%?40?%;text-align:left;background:#f4f4f4;padding:%?20?%;margin:%?40?%;width:%?490?%}.sub[data-v-6501abd5]{background:#333;color:#fff}.order-info[data-v-6501abd5]{margin-top:%?20?%}.order-info .cost[data-v-6501abd5]{height:%?110?%;line-height:%?110?%;padding-left:%?30?%;border-top:%?20?% solid #f5f5f5;border-bottom:%?20?% solid #f5f5f5}.order-info .mun1[data-v-6501abd5],.order-info .mun2[data-v-6501abd5]{border-top:%?1?% solid #f5f5f5;padding:%?30?%}.order-info .mun1 .piece[data-v-6501abd5],.order-info .mun2 .piece[data-v-6501abd5]{margin-left:%?30?%}.order-info .mun1 .t2[data-v-6501abd5],.order-info .mun2 .t2[data-v-6501abd5]{margin-left:%?50?%}.order-info .price[data-v-6501abd5],.order-info .supplier[data-v-6501abd5]{border-top:%?1?% solid #f5f5f5;padding:%?30?%}.order-info .price .t1[data-v-6501abd5],.order-info .supplier .t1[data-v-6501abd5]{font-size:%?28?%}.order-info .price .t2[data-v-6501abd5],.order-info .supplier .t2[data-v-6501abd5]{width:%?468?%;height:%?52?%;line-height:%?52?%;padding-left:%?20?%;margin-left:%?40?%}.order-info .supplier .t1[data-v-6501abd5]{letter-spacing:%?8?%}.order-info .supplier .t2[data-v-6501abd5]{margin-left:%?30?%;position:relative}.order-info .supplier .t2 .select[data-v-6501abd5]{position:absolute;top:%?60?%;left:0;background:#eee;width:%?480?%;height:%?500?%;overflow-y:scroll;z-index:9999999}.order-info .supplier .t2 .select uni-view[data-v-6501abd5]{height:%?60?%;line-height:%?60?%;border-bottom:%?1?% solid #f4f4f4;padding-left:%?30?%}.order-info .upload[data-v-6501abd5]{padding:%?30?%;border-top:%?1?% solid #f5f5f5}.order-info .upload .t1[data-v-6501abd5]{height:%?80?%;line-height:%?80?%}.order-info .desc[data-v-6501abd5]{padding:%?30?%;margin-bottom:%?30?%}.order-info .desc .t1[data-v-6501abd5]{width:%?140?%;letter-spacing:%?12?%;font-size:%?28?%}.order-info .desc .t2[data-v-6501abd5]{width:%?500?%;height:%?210?%;padding:%?10?%;margin-left:%?20?%;background:#f5f5f5}.order-info .desc .t2 uni-textarea[data-v-6501abd5]{width:100%;height:100%}.flex-end[data-v-6501abd5]{padding-right:%?10?%}.order_sn[data-v-6501abd5]{height:%?120?%;line-height:%?50?%;padding-top:%?20?%;border-bottom:%?1?% solid #f4f4f4}.top20[data-v-6501abd5]{border-top:%?20?% solid #f4f4f4}.get-address[data-v-6501abd5]{border-top:%?1?% solid #f4f4f4;padding:%?10?%;padding-left:%?30?%}.get-address .stall[data-v-6501abd5]{display:inline-block;line-height:%?24?%;padding:%?2?% %?10?%;height:%?28?%;border-radius:%?4?%;margin-left:%?20?%;border:%?1?% solid #f29800}.find-status[data-v-6501abd5]{width:%?180?%;height:%?60?%;line-height:%?60?%;text-align:center;border-radius:%?30?%;border:%?2?% solid #f29800;color:#f29800;font-size:%?30?%;margin-top:%?30?%;margin-right:%?10?%;margin-bottom:%?30?%}.find-status uni-view[data-v-6501abd5]{text-align:center;width:%?180?%}.cancat[data-v-6501abd5]{margin-right:%?0?%;margin-top:%?10?%;width:%?340?%;height:%?100?%;position:relative}.cancat uni-text[data-v-6501abd5]{position:absolute;top:%?28?%;left:%?58?%;font-size:%?28?%;color:#f29800}.cancat uni-image[data-v-6501abd5]{width:%?360?%;height:%?100?%;position:absolute;left:0;left:0}.cancat .btn-1[data-v-6501abd5],.cancat .btn-2[data-v-6501abd5]{width:%?80?%;height:%?100?%;position:absolute;top:0}.cancat .btn-1[data-v-6501abd5]{right:%?28?%}.cancat .btn-2[data-v-6501abd5]{right:%?120?%}.find-order-detail[data-v-6501abd5]{height:100%;background:#f4f4f4}.image[data-v-6501abd5]{width:%?750?%;position:relative;left:%?-40?%}.image uni-image[data-v-6501abd5]{width:%?140?%;height:%?140?%;margin-top:%?20?%;margin-left:%?40?%}.container[data-v-6501abd5]{background:#fff;line-height:%?50?%}.padding[data-v-6501abd5]{padding:%?16?% %?30?%;font-size:%?30?%;border-top:%?1?% solid #eee;position:relative}.padding .item-right[data-v-6501abd5]{position:absolute;right:%?40?%;top:%?20?%}.pd-cell[data-v-6501abd5]{padding:0 %?20?%}.warm-btn[data-v-6501abd5]{border:%?1?% #c81c28 solid;color:#c81c28;padding:%?2?% %?10?%;border-radius:%?6?%}.normal-btn[data-v-6501abd5]{border:%?1?% #666 solid;color:#666;padding:%?2?% %?10?%;border-radius:%?6?%}.order-chat[data-v-6501abd5]{background:#ef7510;color:#fff;width:%?300?%;margin:%?40?% auto}.height40[data-v-6501abd5]{height:%?40?%}\n/*标签tag  */.tag[data-v-6501abd5]{color:#ef7510;padding:%?2?% %?4?%;border:1px #ef7510 solid;border-radius:%?6?%}\n/*弹窗样式 S  */.pop-window[data-v-6501abd5]{width:100%;height:100%;position:fixed;top:0;left:0;z-index:9999;background:rgba(0,0,0,.6)}.form-box-1[data-v-6501abd5]{position:relative;width:%?600?%;margin:%?130?% auto;padding:%?0?% %?40?% %?50?%;background:#fff;border-radius:%?10?%;text-align:center;line-height:%?80?%}.submit-box uni-button[data-v-6501abd5]{width:%?270?%;margin-top:%?50?%;background:#c81c28;color:#fff;line-height:%?80?%}.close[data-v-6501abd5]{position:absolute;right:%?0?%;top:%?-20?%;padding:%?20?%;font-size:%?50?%}\n/* 找不到物料 */.form-box-2[data-v-6501abd5]{position:relative;width:%?600?%;margin:%?200?% auto;padding-top:%?34?%;background:#fff;border-radius:%?10?%;text-align:center;line-height:%?80?%}.pop-window[data-v-6501abd5]{width:100%;height:100%;position:fixed;top:0;left:0;z-index:9999;background:rgba(0,0,0,.6)}',""])},e191:function(t,a,i){"use strict";i.r(a);var e=i("b804"),s=i("c33c");for(var n in s)"default"!==n&&function(t){i.d(a,t,function(){return s[t]})}(n);i("a3a3");var d=i("2877"),l=Object(d["a"])(s["default"],e["a"],e["b"],!1,null,"6501abd5",null);a["default"]=l.exports},fab1:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=o(i("0089")),s=o(i("e378")),n=o(i("8dde")),d=o(i("483a")),l=o(i("10c9")),r=o(i("3db4"));function o(t){return t&&t.__esModule?t:{default:t}}var u={components:{upload:n.default,uniNumberBox:d.default,xflSelect:l.default,dialog:r.default},data:function(){return{isLogistics:!1,disabled:!0,totalCost:0,result_num:0,result_big_num:0,orderItem:"",index:1,upLoadMaxNum:9,files:[],id:"",detailData:"",result_desc:"",big_price:0,result_price:0,supplier:"",list:[],supplier_id:"",isCheckSupplier:!1,formShow:!1,remark:"",express_name:"",express_phone:"",express_sn:"",totalFee:""}},onLoad:function(t){this.$data.id=t.id,this.getTaskFee()},onShow:function(){},methods:{goChat:function(t){uni.navigateTo({url:"/pages/chat/chat?id="+t.user_id+"&fmUserName=客户"})},logisticsSubmit:function(){var t=this;return""==this.$data.express_name?(s.default.errorTips("请填写物流公司"),!1):""==this.$data.express_phone?(s.default.errorTips("请填写物流电话"),!1):""==this.$data.express_sn?(s.default.errorTips("请填写物流单号"),!1):void e.default.staffShipExpress({method:"POST",data:{id:this.$data.id,express_name:this.$data.express_name,express_phone:this.$data.express_phone,express_sn:this.$data.express_sn,express_img:this.$data.detailData.result_img[0]}}).then(function(a){0==a.code||200==a.code?(t.$data.isLogistics=!1,t.$data.detailData.distribution_status=4,t.$data.detailData.status_label="确认送达",uni.navigateBack({delta:1})):s.default.errorTips(a.msg)}).catch(function(t){s.default.errorTips(t.msg||t.meessage)})},hideLogistics:function(){this.$data.isLogistics=!1},serviceOrder:function(t){var a=this;uni.showModal({title:"提示",content:"确认送达?",success:function(i){i.confirm?(console.log("用户点击确定"),2!=a.$data.detailData.shipping_type?e.default.staffShipConfirm({method:"POST",data:{id:t}}).then(function(t){0!=t.code&&200!=t.code||(a.$data.detailData.distribution_status=4,a.$data.detailData.status_label="确认送达",uni.navigateTo({url:"../../pages/index"}))}):a.$data.isLogistics=!0):i.cancel&&console.log("用户点击取消")}})},receiptOrder:function(t){var a=this;uni.showModal({title:"提示",content:"确定接单?",success:function(i){i.confirm?(console.log("用户点击确定"),e.default.staffShipGet({method:"POST",data:{id:t}}).then(function(t){200==t.code||0==t.code?(a.$data.status=2,s.default.successTips("接单成功"),a.detailData.distribution_status=3,uni.navigateBack({delta:1})):s.default.errorTips(t.msg)}).catch(function(t){s.default.errorTips(t.msg)})):i.cancel&&console.log("用户点击取消")}})},showForm:function(){this.$data.formShow=!0},unFormSubmit:function(){var t=this;if(""==this.$data.remark)return s.default.errorTips("请填写未找到料的原因"),!1;var a={id:this.$data.id,remark:this.$data.remark};e.default.staffFindUnfound({method:"POST",data:a}).then(function(a){200!=a.code&&0!=a.code||(t.$data.formShow=!1,uni.navigateTo({url:"../../pages/index"}))})},close:function(){this.$data.formShow=!1},submit:function(){if(""==this.$data.result_desc)return s.default.errorTips("描述不能为空"),!1;if(this.$data.files.length<=0)return s.default.errorTips("至少上传一张图片"),!1;if(""==this.$data.supplier_id)return s.default.errorTips("请选择供应商"),!1;if(""==this.$data.result_price)return s.default.errorTips("物料单价不能为空"),!1;if(this.$data.result_num<=0)return s.default.errorTips("物料数量不能为空"),!1;var t=[];this.$data.files.forEach(function(a,i){t.push(a.url)});var a={id:this.$data.id,supplier_id:this.$data.supplier_id,result_desc:this.$data.result_desc,result_img:t,result_price:this.$data.result_price,result_num:this.$data.result_num,result_big_num:this.$data.result_big_num};e.default.staffFindFound({method:"POST",data:a}).then(function(t){200==t.code||0==t.code?uni.navigateBack({delta:1}):s.default.errorTips(t.msg)})},checkSupplier:function(t){this.$data.supplier=this.$data.list[t].name,this.$data.supplier_id=this.$data.list[t].id,this.$data.isCheckSupplier=!1},sum:function(){this.$data.totalCost=this.$data.result_num*this.$data.result_price+this.$data.result_big_num*this.$data.big_price},staffSupplierSearch:function(t){var a=this;this.$data.supplier_id="",""!=t.detail.value&&e.default.staffSupplierSearch({data:{keyword:t.detail.value}}).then(function(t){200!=t.code&&0!=t.code||(a.$data.list=t.data,t.data.length<=0?a.$data.isCheckSupplier=!1:a.$data.isCheckSupplier=!0)})},getPriceByOne:function(t){this.$data.result_price=t.detail.value,this.sum()},bindChange1:function(t){this.$data.result_num=t,this.sum()},bindChange2:function(t){this.$data.result_big_num=t,this.sum()},getTaskFee:function(){var t=this;e.default.getTaskFee({}).then(function(a){200!=a.code&&0!=a.code||(t.$data.big_price=a.data.big_price,t.getOrderDetail(t.$data.id))})},imageUpload:function(t){this.$data.files=t.files},getOrderDetail:function(t){var a=this;e.default.shipShowById({data:{id:t}}).then(function(t){200!=t.code&&0!=t.code||(a.$data.detailData=t.data,a.$data.totalFee=parseInt(t.data.result_num)*parseFloat(t.data.result_price)+parseInt(t.data.result_big_num)*parseFloat(a.$data.big_price),a.sum())})},preview:function(t){var a=t.currentTarget.dataset.idx,i=this.data.detailData.desc_img;uni.previewImage({current:i[a],urls:i})}}};a.default=u}}]);