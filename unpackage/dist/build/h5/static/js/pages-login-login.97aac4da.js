(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"15b0":function(t,e,a){"use strict";a.r(e);var n=a("bd57"),i=a("c762");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("2939");var s=a("2877"),c=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"75f47b1a",null);e["default"]=c.exports},"17ca":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goBtn[data-v-0890107e]{width:%?680?%;border-radius:%?10?%;height:%?80?%;line-height:%?80?%;text-align:center;margin:0 auto;border:%?1?% solid #ffa40a;color:#ffa40a;margin-top:%?40?%;background:#fff;font-size:%?28?%}uni-page-body[data-v-0890107e]{background:#fff}.wx_content[data-v-0890107e]{background:#fff;height:100%;overflow:hidden}.forget[data-v-0890107e]{text-align:right;margin-right:%?20?%;color:#999;height:%?30?%;margin-top:%?30?%}.tips[data-v-0890107e]{margin-top:%?100?%}.login[data-v-0890107e]{height:%?80?%;width:%?680?%;background:#999;line-height:%?80?%;border-radius:%?10?%;margin:0 auto;margin-top:%?50?%;color:#fff}.footer[data-v-0890107e]{margin-top:%?360?%;color:#999}.passworld .box[data-v-0890107e]{height:%?80?%;width:%?480?%;background:#eee;margin-left:%?40?%;border-radius:%?10?%;margin-top:%?40?%;position:relative}.passworld .box .code[data-v-0890107e]{position:absolute;height:%?80?%;line-height:%?80?%;width:%?180?%;background:#e2e2e2;font-size:%?24?%;border-radius:%?10?%;right:%?-200?%;color:#fff;text-align:center}.passworld .box .code .close[data-v-0890107e]{z-index:999999}.passworld .box .img[data-v-0890107e]{width:%?60?%;height:%?60?%;position:absolute;top:%?14?%;left:%?10?%}.passworld .box .close[data-v-0890107e]{width:%?40?%;height:%?40?%;position:absolute;right:%?20?%;top:%?20?%;z-index:999999}.passworld .box .input[data-v-0890107e]{position:absolute;left:%?80?%;top:%?6?%;color:#333;font-size:%?28?%;width:%?320?%;height:%?60?%;line-height:%?60?%;padding:%?10?% 0;font-size:%?32?%}.code .box[data-v-0890107e]{height:%?80?%;width:%?680?%;background:#eee;margin:0 auto;border-radius:%?10?%;margin-top:%?100?%;position:relative}.code .box .img[data-v-0890107e]{width:%?60?%;height:%?60?%;position:absolute;top:%?14?%;left:%?10?%}.code .box .close[data-v-0890107e]{width:%?40?%;height:%?40?%;position:absolute;right:%?20?%;top:%?20?%;z-index:999999}.code .box .input[data-v-0890107e]{position:absolute;left:%?80?%;top:%?6?%;color:#333;font-size:%?28?%;width:%?600?%;height:%?60?%;line-height:%?60?%;padding:%?10?% 0;font-size:%?32?%}.password[data-v-0890107e]{margin-top:%?30?%}.pass .box[data-v-0890107e]{margin-top:%?40?%}.nav[data-v-0890107e]{font-size:%?28?%;margin-top:%?40?%;line-height:%?80?%;border-bottom:%?1?% solid orange;font-size:%?32?%}.nav .active[data-v-0890107e]{border-bottom:%?4?% solid orange}.icon-close[data-v-0890107e]{position:relative;top:%?130?%;left:%?30?%;opacity:.8}.icon-close uni-image[data-v-0890107e]{width:%?80?%;height:%?80?%}.codeActive[data-v-0890107e]{background:orange!important}.loginActive[data-v-0890107e]{background:orange!important}body.?%PAGE?%[data-v-0890107e]{background:#fff}',""])},"1aca":function(t,e,a){"use strict";var n=a("5b68"),i=a.n(n);i.a},"22bf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},props:{headTitle:{type:String,default:"众皮联商城"},isArrow:{type:Boolean,default:!0}},methods:{goBlack:function(){this.$eventHub.$emit("goBlack",!0),uni.navigateBack({delta:1})}}};e.default=n},2939:function(t,e,a){"use strict";var n=a("78d8"),i=a.n(n);i.a},5155:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.title[data-v-75f47b1a]{width:%?750?%;height:%?80?%;color:#333;line-height:%?80?%;position:relative;background:#fff;top:0;border-bottom:%?1?% solid #eee;z-index:999998;overflow:hidden}.title .text[data-v-75f47b1a]{width:%?750?%;line-height:%?80?%;text-align:center;position:absolute;left:0;top:0;font-size:%?32?%}.title .arrow[data-v-75f47b1a]{position:relative;z-index:999999}.title .arrow .arrow-left[data-v-75f47b1a]{position:absolute;left:%?40?%;top:%?30?%}',""])},"5b68":function(t,e,a){var n=a("17ca");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("43da708d",n,!0,{sourceMap:!1,shadowMode:!1})},"5ee1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wx_content fs24"},[a("v-uni-view",{staticClass:"nav flex fw6"},t._l(t.navText,function(e,n){return a("v-uni-view",{key:n,staticClass:"flex-1 text-center",class:{active:t.navIndex==n},on:{click:function(e){e=t.$handleEvent(e),t.checkNav(n)}}},[t._v(t._s(e))])}),1),a("v-uni-view",{staticClass:"code"},[a("v-uni-view",{staticClass:"box"},[a("v-uni-image",{staticClass:"img",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_login_user.png"}}),t.isPhone?a("v-uni-image",{staticClass:"close",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_delete.png"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clearPhone(e)}}}):t._e(),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入您的手机号"},on:{input:function(e){e=t.$handleEvent(e),t.clickPhone(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),0==t.navIndex?a("v-uni-view",{staticClass:"passworld"},[a("v-uni-view",{staticClass:"box"},[a("v-uni-image",{staticClass:"img",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_login_code.png"}}),t.isCode?a("v-uni-image",{staticClass:"close",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_delete.png"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clearCode(e)}}}):t._e(),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入验证码"},on:{input:function(e){e=t.$handleEvent(e),t.clickCode(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),a("v-uni-view",{staticClass:"code",class:{codeActive:t.isCodeActive},on:{click:function(e){e=t.$handleEvent(e),t.generateCode(e)}}},[t._v(t._s(t.codeText))])],1)],1):t._e(),1==t.navIndex?a("v-uni-view",{staticClass:"code pass"},[a("v-uni-view",{staticClass:"box"},[a("v-uni-image",{staticClass:"img",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_login_pass.png"}}),t.isPassworld?a("v-uni-image",{staticClass:"close",attrs:{src:"https://static.yidap.com/miniapp/o2o/imgs/ic_delete.png"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clearPassworld(e)}}}):t._e(),a("v-uni-input",{staticClass:"input",attrs:{password:"",type:"text",placeholder:"请输入登录密码"},on:{input:function(e){e=t.$handleEvent(e),t.clickPassworld(e)}},model:{value:t.passworld,callback:function(e){t.passworld=e},expression:"passworld"}})],1)],1):t._e(),a("v-uni-view",{staticClass:"forget",on:{click:function(e){e=t.$handleEvent(e),t.reset(e)}}},[t._v("忘记密码")]),a("v-uni-view",{staticClass:"login text-666 text-center",class:{loginActive:t.isLogin},on:{click:function(e){e=t.$handleEvent(e),t.doLogin(e)}}},[t._v("登录")]),0==t.navIndex?a("v-uni-view",{staticClass:"tips text-666 text-center"},[t._v("无需注册,可直接登录")]):t._e(),1==t.userType?a("v-uni-view",{staticClass:"goBtn",on:{click:function(e){e=t.$handleEvent(e),t.goBtn(1)}}},[t._v("成为找料员")]):t._e(),2==t.userType?a("v-uni-view",{staticClass:"goBtn",on:{click:function(e){e=t.$handleEvent(e),t.goBtn(2)}}},[t._v("成为配送员")]):t._e(),0==t.navIndex?a("v-uni-view",{staticClass:"footer text-666 text-center",on:{click:function(e){e=t.$handleEvent(e),t.showNotes(e)}}},[t._v("首次登录将自动注册,注册则代表您同意《用户协议》")]):t._e()],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"78d8":function(t,e,a){var n=a("5155");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("356c8e1c",n,!0,{sourceMap:!1,shadowMode:!1})},"90fe":function(t,e,a){"use strict";a.r(e);var n=a("ac0f"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},ac0f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("15b0")),i=s(a("e378")),o=s(a("0089"));s(a("d4cf"));function s(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{title:"登录",navText:["验证码登录","密码登录"],phone:"",code:"",passworld:"",isPhone:!1,isCode:!1,isPassworld:!1,isLogin:!1,isCodeActive:!1,codeText:"获取验证码",from:0,code_id:"",userType:0}},components:{wxTitle:n.default},computed:{navIndex:function(){return this.$store.state.fromRest}},onLoad:function(t){t.from&&(this.$data.from=t.from)},onShow:function(){this.$data.userType=uni.getStorageSync("userType")},methods:{getOpenId:function(){uni.login({success:function(t){if(console.log(t),t.code){var e={code:t.code,from:3};o.default.getOpenId({data:e}).then(function(t){200==t.code||0==t.code?uni.setStorageSync("open_id",t.data.openid):i.default.errorTips(t.msg)}).catch(function(t){})}}})},showNotes:function(){uni.navigateTo({url:"../protocol/protocol"})},goBtn:function(t){1==t?uni.navigateTo({url:"../setting/authentication/authentication"}):2==t&&uni.navigateTo({url:"../setting/authentication/authentication"})},goblack:function(){uni.navigateBack({delta:1})},checkNav:function(t){this.$store.commit("changeReset",{number:t}),this.judgeIsSelect()},judgeIsSelect:function(){0==this.$store.state.fromRest?i.default.vailPhone(this.$data.phone)&&""!=this.$data.code?this.$data.isLogin=!0:this.$data.isLogin=!1:1==this.$store.state.fromRest&&(i.default.vailPhone(this.$data.phone)&&""!=this.$data.passworld?this.$data.isLogin=!0:this.$data.isLogin=!1)},clickPhone:function(t){console.log(this.$data.phone),console.log(i.default.vailPhone(this.$data.phone)),this.$data.phone=t.target.value,""!=this.$data.phone?this.$data.isPhone=!0:this.$data.isPhone=!1,i.default.vailPhone(this.$data.phone)?this.$data.isCodeActive=!0:this.$data.isCodeActive=!1,this.judgeIsSelect()},clearPhone:function(){this.$data.phone="",this.$data.isLogin=!1,this.$data.isCodeActive=!1,this.judgeIsSelect(),this.$data.isPhone=!1,console.log(this.$data.phone)},clickCode:function(){""!=this.$data.code?this.$data.isCode=!0:this.$data.isCode=!1,this.judgeIsSelect()},clearCode:function(){this.$data.code="",this.$data.isLogin=!1,this.$data.isCode=!1},clickPassworld:function(){""!=this.$data.passworld?this.$data.isPassworld=!0:this.$data.isPassworld=!1,this.judgeIsSelect()},clearPassworld:function(){this.$data.passworld="",this.$data.isLogin=!1,this.$data.isPassworld=!1},generateCode:function(){var t=this;this.$data.isCodeActive&&o.default.generateCode({method:"POST",data:{mobile:this.$data.phone,type:2}}).then(function(e){0==e.code||200==e.code?(i.default.successTips("短信发送成功"),t.$data.code_id=e.data.id,t.$data.codeText="重新获取"):i.default.errorTips(e.msg)}).catch(function(t){i.default.errorTips(t.msg||t.message)})},doLogin:function(){var t=this,e=uni.getStorageSync("userType"),a=uni.getStorageSync("access_token"),n=uni.getStorageSync("token"),s=uni.getStorageSync("v");uni.clearStorageSync(),uni.setStorageSync("userType",e),uni.setStorageSync("access_token",a),uni.setStorageSync("token",n),uni.setStorageSync("v",s),console.log("order"==uni.getStorageSync("page")),this.$data.isLogin&&(0==this.$store.state.fromRest?o.default.loginByValidateCode({method:"POST",data:{mobile:this.$data.phone,code:this.$data.code,id:this.$data.code_id,invite_code:uni.getStorageSync("invite_code")}}).then(function(e){if(0==e.code||200==e.code){t.getOpenId(),console.log("login:"+e);var a=e;uni.getStorageSync("invite_code")&&uni.removeStorageSync("invite_code"),uni.setStorageSync("token",a.data.token),uni.setStorageSync("userId",a.data.id),uni.setStorageSync("access_token",a.data.access_token),uni.setStorageSync("avatarPath",a.data.avatar_path),uni.setStorageSync("user_name",a.data.user_name),uni.setStorageSync("nick_name",a.data.nick_name),t.$store.commit("updateNickName",a.data.nick_name),t.$store.commit("updateAvatarPath",a.data.avatar_path),o.default.getUserInfo({}).then(function(t){a.data.name=name}),uni.setStorageSync("userInfo",a.data),t.$store.commit("setToken",{token:a.data.token}),t.$store.commit("setUserInfo",{userInfo:a.data}),t.$eventHub.$emit("doUserInfo",a.data),t.$eventHub.$emit("order","order"),uni.reLaunch({url:"../index/index?menuFrom="+t.$data.from})}else i.default.errorTips(e.msg)}).catch(function(t){i.default.errorTips(t.msg)}):o.default.login({method:"POST",data:{mobile:this.$data.phone,password:this.$data.passworld,invite_code:uni.getStorageSync("invite_code")||""}}).then(function(e){if(0==e.code||200==e.code){t.getOpenId(),console.log("login:"+e.toString());var a=e;uni.getStorageSync("invite_code")&&uni.removeStorageSync("invite_code"),uni.setStorageSync("token",a.data.token),uni.setStorageSync("userId",a.data.id),uni.setStorageSync("access_token",a.data.access_token),uni.setStorageSync("avatarPath",a.data.avatar_path),uni.setStorageSync("user_name",a.data.user_name),uni.setStorageSync("nick_name",a.data.nick_name),t.$store.commit("updateNickName",a.data.nick_name),t.$store.commit("updateAvatarPath",a.data.avatar_path),o.default.getUserInfo().then(function(t){a.data.name=t.data.name}),uni.setStorageSync("userInfo",a.data),t.$store.commit("setToken",{token:a.data.token}),t.$store.commit("setUserInfo",{userInfo:a.data}),t.$eventHub.$emit("doUserInfo",e.data),t.$eventHub.$emit("order","order"),uni.reLaunch({url:"../index/index?menuFrom="+t.$data.from})}else i.default.errorTips(e.msg)}).catch(function(t){i.default.errorTips(t.msg||t.message)}))},reset:function(){uni.navigateTo({url:"/pages/resetPassworld/resetPassworld"})}}};e.default=c},bd57:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"title cf"},[a("v-uni-view",{staticClass:"fll arrow",staticStyle:{width:"100upx",height:"100%"},on:{click:function(e){e=t.$handleEvent(e),t.goBlack(e)}}},[t.isArrow?a("v-uni-text",{staticClass:"arrow-left"}):t._e()],1),a("v-uni-view",{staticClass:"fll text"},[t._v(t._s(t.headTitle))])],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},c762:function(t,e,a){"use strict";a.r(e);var n=a("22bf"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},ef1d:function(t,e,a){"use strict";a.r(e);var n=a("5ee1"),i=a("90fe");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("1aca");var s=a("2877"),c=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"0890107e",null);e["default"]=c.exports}}]);