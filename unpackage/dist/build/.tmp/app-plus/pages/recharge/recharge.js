(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recharge/recharge"],{"14f8":function(e,t,a){"use strict";a("a3d9");var i=n(a("b0ce")),c=n(a("908c"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(c.default))},"25b9":function(e,t,a){"use strict";a.r(t);var i=a("6dd2"),c=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);t["default"]=c.a},"6dd2":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("e378")),c=n(a("0089"));function n(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{price:"",navIndex:0,index:1,navArrText:["充值VIP","包月VIP"],navArrCheck:[{img:"",name:"微信支付"},{img:"",name:"支付宝"}],payIndex:0,first_recharge:!1}},onLoad:function(e){this.$data.index=e.index,this.getRechargeList(),2==this.$data.index&&this.apiFirstRecharge()},onShow:function(){""==e.getStorageSync("open_id")&&this.getOpenId()},methods:{apiFirstRecharge:function(){var e=this,t=1==this.$data.payIndex?"balance":"virtual";c.default.apiFirstRecharge({data:{asset_type:t}}).then(function(t){200!=t.code&&0!=t.code||1==t.data&&(e.$data.first_recharge=!0,e.$data.price=100)})},checkPayIndex:function(e){this.$data.payIndex=e},getRechargeList:function(){var e=this;c.default.getRechargeList({}).then(function(t){if(console.log(t),200==t.code){var a=t.data.balance,i=t.data.times;e.setData({rechargeList:a,times:i})}})},contact:function(){e.makePhoneCall({phoneNumber:"400-8088-156"})},navCheck:function(e){this.$data.navIndex=e.currentTarget.dataset.inx},doInput:function(e){this.$data.price=e.detail.value},getOpenId:function(){e.login({success:function(t){if(console.log(t),t.code){var a={code:t.code,from:3};c.default.getOpenId({data:a}).then(function(t){200==t.code||0==t.code?e.setStorageSync("open_id",t.data.openid):i.default.errorTips(t.msg)}).catch(function(e){})}}})},doPay:function(t){var a=this;if(this.$data.first_recharge&&this.$data.price<100)return i.default.errorTips("首次充值鹿币必须大于或等于100"),!1;if(!i.default.verificationAmount(this.$data.price))return i.default.errorTips("请输入正确的金额"),!1;this.$data.price;var n={open_id:e.getStorageSync("open_id"),pay_type:"wx",type:"miniapp",total_fee:this.$data.price,package_id:0};1==this.$data.index?c.default.wxPay({method:"POST",data:n}).then(function(t){if(console.log(t),200==t.code||0==t.code){var a=t.data.data,c=t.data.pay.change_amount,n=t.data.pay.created_at;a.success=function(t){e.navigateTo({url:"../rechargeSuccess/rechargeSuccess?value="+c+"&time="+n})},a.fail=function(e){i.default.errorTips("支付失败")},e.requestPayment(a)}else i.default.errorTips(t.msg)}).catch(function(e){i.default.errorTips(e.msg)}):(1==this.$data.payIndex&&(n.pay_type="balance",n.type="balance"),c.default.apiVirtual({method:"POST",data:n}).then(function(t){if(console.log(t),200==t.code||0==t.code)if(1==a.$data.payIndex){t.data.data;var c=t.data.pay.change_amount,n=t.data.pay.created_at;e.navigateTo({url:"../rechargeSuccess/rechargeSuccess?value="+c+"&time="+n})}else{var s=t.data.data,r=t.data.pay.change_amount;s.success=function(t){e.navigateTo({url:"../rechargeSuccess/rechargeSuccess?value="+r})},s.fail=function(e){i.default.errorTips("支付失败")},e.requestPayment(s)}else i.default.errorTips(t.msg)}).catch(function(e){i.default.errorTips(e.msg||e.message)}))}}};t.default=s}).call(this,a("6e42")["default"])},"908c":function(e,t,a){"use strict";a.r(t);var i=a("9c5f"),c=a("25b9");for(var n in c)"default"!==n&&function(e){a.d(t,e,function(){return c[e]})}(n);a("c94c");var s=a("2877"),r=Object(s["a"])(c["default"],i["a"],i["b"],!1,null,"339efcae",null);t["default"]=r.exports},"9c5f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",[a("view",{staticClass:"recharge  cf fs30"},[a("view",{staticClass:"recharge-content"},[a("view",{staticClass:"item-1"},[a("view",[e._v(e._s(1==e.index?"充值金额":"购买数量"))])]),a("view",{staticClass:"cf item-2"},[a("text",{staticClass:"fll"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"fll",attrs:{type:"digit",placeholder:1==e.index?"请输入充值金额":"请输入购买数量",eventid:"21a47f17-0"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),2==e.index?a("view",{staticClass:"cf item-2"},[a("text",{staticClass:"fll"},[e._v("= ￥ "+e._s(e.price))])]):e._e(),1==e.index?a("view",{staticClass:"bz"},[e._v("注：余额可用于购买鹿币,支付代采物料费用。")]):e._e(),2==e.index&&e.first_recharge?a("view",{staticClass:"bz"},[e._v("注:"),a("text",[e._v("1、第一次鹿币购买须大于等于100")]),a("view",{staticClass:"mgl-30"},[e._v("2、鹿币可用于支付找料及取料订单")])]):e._e(),2!=e.index||e.first_recharge?e._e():a("view",{staticClass:"bz"},[e._v("注:"),a("text",[e._v("1、鹿币可用于支付找料及取料订单")])]),a("view",{staticClass:"item-3"},[e._v("支付方式")]),a("view",{staticClass:"item-4"},[a("view",{staticClass:"cf",attrs:{eventid:"21a47f17-1"},on:{click:function(t){e.checkPayIndex(0)}}},[e._m(0),a("view",{staticClass:"fll"},[e._v("微信支付")]),2==e.index?a("view",{staticClass:"flr"},[0==e.payIndex?a("text",{staticClass:"iconfont icon-dui icon-dui-1 fs40 pdl-10 text-yellow"}):e._e(),0!=e.payIndex?a("text",{staticClass:"iconfont icon-dui icon-yuan-1 fs40 pdl-10 text-eb"}):e._e()]):e._e()]),2==e.index?a("view",{staticClass:"cf",attrs:{eventid:"21a47f17-2"},on:{click:function(t){e.checkPayIndex(1)}}},[e._m(1),a("view",{staticClass:"fll"},[e._v("余额支付")]),a("view",{staticClass:"flr lb"},[1==e.payIndex?a("text",{staticClass:"iconfont icon-dui icon-dui-1 fs40 pdl-10 text-yellow"}):e._e(),1!=e.payIndex?a("text",{staticClass:"iconfont icon-dui icon-yuan-1 fs40 pdl-10 text-eb"}):e._e()])]):e._e()])]),1==e.index?a("view",{staticClass:"recharge-explain cf fs30"},[a("view",{staticStyle:{"padding-top":"30rpx"}},[e._v("充值说明：")]),a("view",[e._v("1、账户充值仅限微信在线方式支付，目前暂不支持其它支付方式；")]),a("view",[e._v("2、账户充值成功后不支持退款且不可提现；")]),a("view",[e._v("3、账户余额仅限用于支付小鹿快找业务相关服务费用；")]),a("view",[e._v("4、账户余额仅限用于支付小鹿快找业务相关服务费用；")]),a("view",[e._v("5、如需咨询，可拨打客服热线"),a("text",{staticClass:"text-red",attrs:{eventid:"21a47f17-3"},on:{click:e.contact}},[e._v("400-8088-156")]),e._v("。")])]):e._e(),2==e.index?a("view",{staticClass:"recharge-explain cf fs30"},[a("view",{staticStyle:{"padding-top":"30rpx"}},[e._v("购买说明：")]),a("view",[e._v("1、账户充值仅限微信在线方式支付，目前暂不支持其它支付方式；")]),a("view",[e._v("2、账户充值成功后不支持退款且不可提现；")]),a("view",[e._v("3、账户余额仅限用于支付小鹿快找业务相关服务费用；")]),a("view",[e._v("4、账户余额仅限用于支付小鹿快找业务相关服务费用；")]),a("view",[e._v("5、如需咨询，可拨打客服热线"),a("text",{staticClass:"text-red",attrs:{eventid:"21a47f17-4"},on:{click:e.contact}},[e._v("400-8088-156")]),e._v("。")])]):e._e(),a("view",{staticClass:"pay",attrs:{eventid:"21a47f17-5"},on:{click:e.doPay}},[e._v("立即支付")]),a("view",{staticClass:"height40"})])])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"fll"},[a("image",{staticClass:"wx",attrs:{src:"../../static/icon/wx.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"fll"},[a("image",{staticClass:"wx",attrs:{src:"../../static/icon/icon-balance.png"}})])}];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return c})},c94c:function(e,t,a){"use strict";var i=a("cb62"),c=a.n(i);c.a},cb62:function(e,t,a){}},[["14f8","common/runtime","common/vendor"]]]);