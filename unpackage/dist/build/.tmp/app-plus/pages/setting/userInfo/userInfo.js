(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setting/userInfo/userInfo"],{"07a6":function(t,e,a){},"78bd":function(t,e,a){"use strict";a.r(e);var i=a("cc85"),n=a("e588");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("c182");var c=a("2877"),s=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,"7cf71d4a",null);e["default"]=s.exports},"8fc9":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("0d0c")),n=s(a("e698")),o=s(a("e378")),c=s(a("0089"));function s(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{isBindMobile:!1}},computed:{nickName:function(){return this.$store.state.nickName},avatarPath:function(){return this.$store.state.avatarPath},mobile:function(){return this.$store.state.mobile}},components:{listItem:i.default,listIcon:n.default},onShow:function(){this.$data.userType=t.getStorageSync("userType"),0==this.$data.userType||3==this.$data.userType?this.$data.isBindMobile=!1:1==this.$data.userType?this.$data.isBindMobile=!0:2==this.$data.userType&&(this.$data.isBindMobile=!0)},methods:{modifyHeadIcon:function(){console.log("hahaha"),this.checkImg()},modifyNickname:function(){t.navigateTo({url:"../modifyNickname/modifyNickname?nickName="+this.$store.state.nickName})},checkImg:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var i=wx.getStorageSync("access_token")||"",n={file:"[object Object]",type:"big"},s=Date.parse(new Date);n.timestamp=s,n.sign=o.default.makeSign(c.default.apiUrl+"/api/upload",n),n.deviceId="wx",n.platformType="2",n.versionCode="4.0";wx.uploadFile({url:"".concat(c.default.apiUrl,"/api/upload"),filePath:a.tempFilePaths[0],name:"file",header:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(i)},formData:n,success:function(a){console.log("图片上传"),console.log(a);var i=JSON.parse(a.data);200===i.code||0===i.code?(e.$store.commit("updateAvatarPath",i.data),t.setStorageSync("avatarPath",i.data),c.default.memberAvatarPath({method:"POST",data:{avatar_path:i.data}}).then(function(t){o.default.successTips("图片上传成功")})):o.default.errorTips("上传错误")},fail:function(t){console.log(t)},complete:function(){}})}})}}};e.default=r}).call(this,a("6e42")["default"])},c182:function(t,e,a){"use strict";var i=a("07a6"),n=a.n(i);n.a},cc85:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"index"},[a("list-icon",{attrs:{subTitle:"修改头像",showCamera:"true",avatar_path:t.avatarPath,eventid:"dd041550-0",mpcomid:"dd041550-0"},on:{didClick:function(e){t.modifyHeadIcon()}}}),a("view",{staticClass:"bb20"},[a("list-item",{attrs:{title:"昵称",subTitle:t.nickName,eventid:"dd041550-1",mpcomid:"dd041550-1"},on:{didClick:function(e){t.modifyNickname()}}})],1),a("view",{staticClass:"bb20"},[t.isBindMobile?a("list-item",{attrs:{title:"绑定手机号码",isShowText:"true",subTitle:t.mobile,mpcomid:"dd041550-2"}}):t._e()],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},cd89:function(t,e,a){"use strict";a("a3d9");var i=o(a("b0ce")),n=o(a("78bd"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},e588:function(t,e,a){"use strict";a.r(e);var i=a("8fc9"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a}},[["cd89","common/runtime","common/vendor"]]]);