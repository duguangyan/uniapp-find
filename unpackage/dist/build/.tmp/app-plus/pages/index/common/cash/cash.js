(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/common/cash/cash"],{"057e":function(t,a,e){"use strict";e.r(a);var n=e("a857"),i=e("15f7");for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);e("624e");var o=e("2877"),r=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);a["default"]=r.exports},"07f5":function(t,a,e){"use strict";e.r(a);var n=e("ea25"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=i.a},"15f7":function(t,a,e){"use strict";e.r(a);var n=e("6d50"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=i.a},1900:function(t,a,e){"use strict";e.r(a);var n=e("8daf"),i=e("1963");for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);e("f8c43");var o=e("2877"),r=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);a["default"]=r.exports},1963:function(t,a,e){"use strict";e.r(a);var n=e("76f5"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=i.a},"1cfc":function(t,a,e){},"1db9":function(t,a,e){},2334:function(t,a,e){"use strict";e.r(a);var n=e("4bf0"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=i.a},"3e80":function(t,a,e){"use strict";e.r(a);var n=e("e67b"),i=e("2334");for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);e("72e9");var o=e("2877"),r=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"a5542bae",null);a["default"]=r.exports},"4bf0":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(e("057e")),i=o(e("e378")),s=o(e("0089"));function o(t){return t&&t.__esModule?t:{default:t}}var r={components:{uniListItem:n.default},data:function(){return{showCon:!1,mask:!1,array:"",bott:"",txts:{j:"提现记录",m:"提现金额",t:"提现方式",n:"普通转账",s:"预计确认提现后，24小时内到账",z:"绑定微信信息",g:"绑定支付宝信息"},navs:["转出到微信","转出到支付宝","转出到银行卡"],navIndex:0,moreMoney:5e3,amount:"",isTransfer:!0,infoRes:"",userInfo:"",encryptedData:"",iv:"",session_key:"",open_id:"",wxIsBind:!1,code_id:"",code_msg:"",now_amount:"",pageIndex:0,wxNickName:"",bankCardInfo:""}},onLoad:function(a){this.$data.now_amount=a.now_amount,this.$data.pageIndex=a.pageIndex,1==this.$data.pageIndex?t.setNavigationBarTitle({title:"佣金提现"}):2==this.$data.pageIndex?t.setNavigationBarTitle({title:"代采提现"}):3==this.$data.pageIndex&&t.setNavigationBarTitle({title:"小鹿家人提现"})},onShow:function(){var t=this.$data.navIndex;0==t?this.apiMemberWxBind(t):1==t?this.memberAliBind(t):2==t&&this.memberBankCardBind(t)},methods:{editBankCardInfo:function(){t.navigateTo({url:"../bindBankCard/bindBankCard?edit=1"})},apiMemberWxBind:function(t){var a=this;s.default.apiMemberWxBind({}).then(function(e){200==e.code||0==e.code?(a.$data.navIndex=t,a.$data.wxIsBind=!0,a.$data.userInfo=e.data,a.$data.wxNickName=e.data.nickName):a.$data.wxIsBind=!1}).catch(function(t){a.$data.wxIsBind=!1})},changeModalCancel:function(){this.$data.showCon=!1;var a=this;t.login({provider:"weixin",success:function(e){console.log(e.authResult);var n={code:e.code,from:3};t.getUserInfo({provider:"weixin",success:function(e){a.$data.infoRes=e,a.$data.userInfo=e.userInfo,a.$data.encryptedData=e.encryptedData,a.$data.iv=e.iv,s.default.getOpenId({data:n}).then(function(e){if(200==e.code||0==e.code){if(t.setStorageSync("open_id",e.data.openid),a.$data.session_key=e.data.session_key,a.$data.open_id=e.data.openid,a.$data.wxIsBind=!0,!a.$data.wxIsBind)return i.default.errorTips("请先绑定用户微信信息"),!1;if(""==a.$data.encryptedData||""==a.$data.iv||""==a.$data.session_key||""==a.$data.open_id)return a.$data.showCon=!0,!1;s.default.apiMemberWxBind({method:"POST",data:{openid:a.$data.open_id,session_key:a.$data.session_key,iv:a.$data.iv,encryptedData:a.$data.encryptedData}}).then(function(t){200==t.code||0==t.code?i.default.successTips(t.msg):i.default.errorTips(t.msg)}).catch(function(t){i.default.errorTips(t.msg)})}else i.default.errorTips(e.msg)})}})}})},password:function(a){var e=this;if(this.$data.array.length<6&&(this.$data.array=this.$data.array+a,console.log(this.$data.array)),6==this.$data.array.length){console.log("跳转"),this.$data.mask=!1,this.$data.bott="";var n={id:this.$data.code_id,code:this.$data.array,mobile:t.getStorageSync("user_name"),type:"wx",amount:this.$data.amount};0==this.$data.navIndex&&(n.type="wx"),1==this.$data.navIndex&&(n.type="ali"),2==this.$data.navIndex&&(n.type="bank"),1==this.$data.pageIndex?n.asset_type="commission":2==this.$data.pageIndex?n.asset_type="replace":3==this.$data.pageIndex&&(n.asset_type="marketing"),s.default.apiAssetTake({method:"POST",data:n}).then(function(a){200==a.code||0==a.code?(e.$data.array="",t.navigateBack({delta:1})):(e.$data.array="",i.default.errorTips(a.msg))}).catch(function(t){e.$data.array="",i.default.errorTips(t.msg||t.message)})}},reset:function(){this.$data.array=[]},backspace:function(){var t=this.$data.array;t=t.substr(0,t.length-1),this.$data.array=t},masks:function(){var a=this;return 0!=this.$data.navIndex||this.$data.wxIsBind||""!=a.$data.encryptedData&&""!=a.$data.iv&&""!=a.$data.session_key&&""!=a.$data.open_id?""==a.$data.amount?(i.default.errorTips("请填写提现金额"),!1):a.$data.amount>parseFloat(a.$data.now_amount)?(i.default.errorTips("转出金额不能大于提现金额"),!1):void s.default.regSMS({method:"POST",data:{mobile:t.getStorageSync("user_name")}}).then(function(t){200!=t.code&&0!=t.code||(a.$data.code_id=t.data.id,a.mask=!0,setTimeout(function(){a.bott="bot"},50))}).catch(function(t){i.default.errorTips(t.msg)}):(a.$data.showCon=!0,i.default.errorTips("请绑定用户微信信息"),!1)},maskss:function(){this.mask=!1,this.bott="",this.array=[]},goCashRecord:function(){t.navigateTo({url:"../cashRecord/cashRecord?pageIndex="+this.$data.pageIndex})},bindWxInfo:function(){this.$data.showCon=!0},getOutMoney:function(){},getMoreMoney:function(){this.$data.now_amount>=5e3?this.$data.amount=5e3:this.$data.amount=this.$data.now_amount},checkTransfer:function(){this.$data.isTransfer=!this.$data.isTransfer},memberAliBind:function(a){var e=this;s.default.memberAliBind({}).then(function(n){200==n.code||0==n.code?(e.$data.userInfo.nickName=n.data.real_name,e.$data.navIndex=a):t.showModal({title:"提示",content:"绑定支付宝?",confirmText:"立即绑定",cancelColor:"#000000",success:function(a){a.confirm?t.navigateTo({url:"../bindAlipay/bindAlipay"}):a.cancel&&console.log("用户点击取消")}})}).catch(function(a){t.showModal({title:"提示",content:"绑定支付宝?",confirmText:"立即绑定",cancelColor:"#000000",success:function(a){a.confirm?t.navigateTo({url:"../bindAlipay/bindAlipay"}):a.cancel&&console.log("用户点击取消")}})})},memberBankCardBind:function(a){var e=this;s.default.memberBankCardBind({}).then(function(n){200==n.code||0==n.code?(e.$data.bankCardInfo=n.data,e.$data.navIndex=a):t.showModal({title:"提示",content:"绑定银行卡?",confirmText:"立即绑定",cancelColor:"#000000",success:function(a){a.confirm?t.navigateTo({url:"../bindBankCard/bindBankCard"}):a.cancel&&console.log("用户点击取消")}})}).catch(function(a){t.showModal({title:"提示",content:"绑定银行卡?",confirmText:"立即绑定",cancelColor:"#000000",success:function(a){a.confirm?t.navigateTo({url:"../bindBankCard/bindBankCard"}):a.cancel&&console.log("用户点击取消")}})})},checkNav:function(t){1==t?this.memberAliBind(t):2==t?this.memberBankCardBind(t):0==t&&this.apiMemberWxBind(t)}}};a.default=r}).call(this,e("6e42")["default"])},"624e":function(t,a,e){"use strict";var n=e("1db9"),i=e.n(n);i.a},"6d50":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(e("81d4")),i=s(e("1900"));function s(t){return t&&t.__esModule?t:{default:t}}var o={name:"uni-list-item",components:{uniIcon:n.default,uniBadge:i.default},data:function(){return{}},props:{title:String,note:String,disabled:{type:[Boolean,String],default:!1},showArrow:{type:[Boolean,String],default:!0},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:String,badgeType:{type:String,default:"success"},thumb:String,showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"contact",color:"#000000",size:"20"}}}},methods:{onClick:function(){this.$emit("click")},onSwitchChange:function(t){this.$emit("switchChange",t.detail)}}};a.default=o},"71ce":function(t,a,e){"use strict";var n=e("924b"),i=e.n(n);i.a},"72e9":function(t,a,e){"use strict";var n=e("fcb5"),i=e.n(n);i.a},"76f5":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={name:"uni-badge",props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:String,default:""},size:{type:String,default:"normal"}},computed:{setClass:function(){var t=["uni-badge-"+this.type,"uni-badge--"+this.size];return!0===this.inverted&&t.push("uni-badge-inverted"),t.join(" ")}},methods:{onClick:function(){this.$emit("click")}}};a.default=n},7979:function(t,a,e){"use strict";e("a3d9");var n=s(e("b0ce")),i=s(e("3e80"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},"81d4":function(t,a,e){"use strict";e.r(a);var n=e("fc35"),i=e("07f5");for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);e("71ce");var o=e("2877"),r=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);a["default"]=r.exports},"8daf":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.text?e("text",{staticClass:"uni-badge",class:t.setClass,attrs:{eventid:"c172aa5e-0"},on:{click:function(a){t.onClick()}}},[t._v(t._s(t.text))]):t._e()},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},"924b":function(t,a,e){},a857:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"uni-list-cell",class:[!0===t.disabled||"true"===t.disabled?"uni-list-cell--disabled":""],attrs:{"hover-class":!0===t.disabled||"true"===t.disabled||!0===t.showSwitch||"true"===t.showSwitch?"":"uni-list-cell--hover",eventid:"66255c8f-1"},on:{click:t.onClick}},[e("view",{staticClass:"uni-list-cell__container"},[t.thumb?e("view",{staticClass:"uni-list-cell__icon"},[e("image",{staticClass:"uni-list-cell__icon-img",attrs:{src:t.thumb}})]):!0===t.showExtraIcon||"true"===t.showExtraIcon?e("view",{staticClass:"uni-list-cell__icon"},[e("uni-icon",{attrs:{color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,mpcomid:"66255c8f-0"}})],1):t._e(),e("view",{staticClass:"uni-list-cell__content"},[e("view",{staticClass:"uni-list-cell__content-title"},[t._v(t._s(t.title))]),t.note?e("view",{staticClass:"uni-list-cell__content-note"},[t._v(t._s(t.note))]):t._e()]),!0===t.showBadge||"true"===t.showBadge||!0===t.showArrow||"true"===t.showArrow||!0===t.showSwitch||"true"===t.showSwitch?e("view",{staticClass:"uni-list-cell__extra"},[!0===t.showBadge||"true"===t.showBadge?e("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,mpcomid:"66255c8f-1"}}):t._e(),!0===t.showSwitch||"true"===t.showSwitch?e("switch",{attrs:{disabled:t.disabled,checked:t.switchChecked,eventid:"66255c8f-0"},on:{change:t.onSwitchChange}}):t._e(),!0===t.showArrow||"true"===t.showArrow?e("uni-icon",{attrs:{color:"#bbb",size:"20",type:"arrowright",mpcomid:"66255c8f-2"}}):t._e()],1):t._e()])])},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},e67b:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"cash"},[e("view",{staticClass:"flex"},t._l(t.navs,function(a,n){return e("view",{key:n,staticClass:"flex-1",attrs:{eventid:"00a7a800-0-"+n},on:{click:function(a){t.checkNav(n)}}},[e("text",{class:n==t.navIndex?"active":""},[t._v(t._s(a))])])})),0==t.navIndex||1==t.navIndex?e("view",{staticClass:"zfb"},[e("view",{staticClass:"t1"},[t._v(t._s(0==t.navIndex?t.txts.z:t.txts.g))]),e("view",{staticClass:"t2 cf"},[e("image",{staticClass:"fll",attrs:{src:t.userInfo.avatarUrl,mode:""}}),e("view",{staticClass:"v1 fll"},[e("view",[t._v(t._s(t.userInfo.nickName))])]),t.wxIsBind?t._e():e("view",{staticClass:"v2",attrs:{eventid:"00a7a800-1"},on:{click:t.bindWxInfo}},[t._v("点击绑定微信信息"),e("text",{staticClass:"arrow-right"})])])]):t._e(),2==t.navIndex?e("view",{staticClass:"bankCard pd-20"},[e("view",{staticClass:"bb-1 cf item-1"},[e("view",{staticClass:"fll"},[t._v("持卡人:"+t._s(t.bankCardInfo.real_name))]),e("view",{staticClass:"flr"},[t._v(t._s(t.bankCardInfo.bank_name))])]),e("view",{staticClass:"item-2 fs30"},[e("view",[t._v("储蓄卡卡号")]),e("view",{staticClass:"ellipsis-line2"},[t._v(t._s(t.bankCardInfo.bank_card_number))]),e("view",{staticClass:"ar text-yellow",attrs:{eventid:"00a7a800-2"},on:{click:t.editBankCardInfo}},[t._v("更换"),e("text",{staticClass:"arrow-right text-yellow"})])])]):t._e(),e("view",{staticClass:"get"},[t._v(t._s(t.txts.m))]),e("view",{staticClass:"input"},[e("text",{staticClass:"t1"},[t._v("￥")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"t2",attrs:{type:"digit",placeholder:"本次最多可转出"+t.moreMoney+"元",eventid:"00a7a800-3"},domProps:{value:t.amount},on:{input:function(a){a.target.composing||(t.amount=a.target.value)}}}),e("text",{staticClass:"t3",attrs:{eventid:"00a7a800-4"},on:{click:t.getMoreMoney}},[t._v("全部")])]),e("uni-list",{attrs:{mpcomid:"00a7a800-1"}},[e("view",{staticClass:"uni-list bb-1"},[e("uni-list-item",{attrs:{title:t.txts.j,eventid:"00a7a800-5",mpcomid:"00a7a800-0"},on:{click:t.goCashRecord}})],1)]),e("view",{staticClass:"footer-btn"},[e("view",{staticClass:"btn",attrs:{eventid:"00a7a800-6"},on:{tap:function(a){t.masks()}}},[t._v("申请")])]),t.mask?e("view",{staticStyle:{width:"100%",height:"100%",position:"fixed",background:"rgb(0,0,0,0.4)",top:"0","z-index":"9999",overflow:"hidden"}},[e("view",{staticClass:"masks",class:t.bott},[e("view",{staticStyle:{padding:"0 3%"}},[e("view",{staticStyle:{float:"left","font-size":"60rpx",margin:"-10rpx 0 0 0"},attrs:{eventid:"00a7a800-7"},on:{tap:function(a){t.maskss()}}},[t._v("×")]),e("view",{staticStyle:{"text-align":"center","font-size":"30rpx","padding-top":"3%"}},[t._v("请输入短信验证码")])]),e("view",{staticStyle:{display:"flex",width:"80%",margin:"5% auto","text-align":"center"}},[e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>0?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])]),e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>1?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])]),e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>2?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])]),e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>3?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])]),e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>4?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])]),e("view",{staticStyle:{flex:"1"}},[e("view",{staticStyle:{width:"80rpx",height:"80rpx",border:"1px solid#ccc",margin:"auto","line-height":"1"}},[t.array.length>5?e("text",{staticStyle:{"font-size":"80rpx",position:"relative",top:"-8rpx"}},[t._v("●")]):t._e()])])]),e("view",{staticStyle:{display:"flex","flex-wrap":"wrap","text-align":"center"}},[e("view",{staticClass:"password",attrs:{eventid:"00a7a800-8"},on:{tap:function(a){t.password(1)}}},[t._v("1")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-9"},on:{tap:function(a){t.password(2)}}},[t._v("2")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-10"},on:{tap:function(a){t.password(3)}}},[t._v("3")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-11"},on:{tap:function(a){t.password(4)}}},[t._v("4")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-12"},on:{tap:function(a){t.password(5)}}},[t._v("5")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-13"},on:{tap:function(a){t.password(6)}}},[t._v("6")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-14"},on:{tap:function(a){t.password(7)}}},[t._v("7")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-15"},on:{tap:function(a){t.password(8)}}},[t._v("8")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-16"},on:{tap:function(a){t.password(9)}}},[t._v("9")]),e("view",{staticClass:"password",staticStyle:{background:"#F29800",color:"#fff"},attrs:{eventid:"00a7a800-17"},on:{tap:function(a){t.reset()}}},[t._v("重置")]),e("view",{staticClass:"password",attrs:{eventid:"00a7a800-18"},on:{tap:function(a){t.password(0)}}},[t._v("0")]),e("view",{staticClass:"password",staticStyle:{background:"#F29800",color:"#fff"},attrs:{eventid:"00a7a800-19"},on:{tap:function(a){t.backspace()}}},[t._v("◀")])])])]):t._e(),t.showCon?e("view",{staticClass:"modal-mask"},[e("view",{staticClass:"modal-dialog"},[e("view",{staticClass:"modal-title"},[t._v("温馨提示")]),e("view",{staticClass:"modal-content"},[t._v("允许获取用户微信信息")]),e("view",{staticClass:"modal-footer"},[e("view",{staticClass:"btn-cancel",attrs:{eventid:"00a7a800-20"},on:{click:t.changeModalCancel}},[t._v("取消")]),e("button",{staticClass:"btn-confirm button-on-view",staticStyle:{padding:"0rpx"},attrs:{"open-type":"getUserInfo",eventid:"00a7a800-21"},on:{click:t.changeModalCancel}},[t._v("确定")])],1)])]):t._e()],1)},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},ea25:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={name:"uni-icon",props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};a.default=n},f8c43:function(t,a,e){"use strict";var n=e("1cfc"),i=e.n(n);i.a},fc35:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},attrs:{eventid:"48168783-0"},on:{click:function(a){t.onClick()}}})},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},fcb5:function(t,a,e){}},[["7979","common/runtime","common/vendor"]]]);