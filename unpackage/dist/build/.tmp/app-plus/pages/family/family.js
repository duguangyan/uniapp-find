(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/family"],{"12c1":function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("e378")),s=n(t("0089"));function n(e){return e&&e.__esModule?e:{default:e}}var d={data:function(){return{isExamine:!1,isCheck:!1,imgBg1:"https://static.yidap.com/miniapp/o2o_find/index/img_bg.png",imgBg2:"https://static.yidap.com/miniapp/o2o_find/index/img_bg.png",name:"",phone:"",address:"",number:"",status_label:"",remark:"",id:""}},onLoad:function(e){},onShow:function(){this.getInviteCode()},methods:{getName:function(e){this.$data.name=e.detail.value},getPhone:function(e){this.$data.phone=e.detail.value},getAddress:function(e){this.$data.address=e.detail.value},getNumber:function(e){this.$data.number=e.detail.value},uploadImg:function(a){var t=this,n=a;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var a=wx.getStorageSync("access_token")||"",d={file:"[object Object]",type:"big"},r=Date.parse(new Date);d.timestamp=r,d.sign=i.default.makeSign(s.default.apiUrl+"/api/upload",d),d.deviceId="wx",d.platformType="2",d.versionCode="4.0";wx.uploadFile({url:"".concat(s.default.apiUrl,"/api/upload"),filePath:e.tempFilePaths[0],name:"file",header:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(a)},formData:d,success:function(e){var a=JSON.parse(e.data);200===a.code||0===a.code?1==n?t.$data.imgBg1=a.data:t.$data.imgBg2=a.data:i.default.errorTips("上传错误")},fail:function(e){i.default.errorTips("上传错误")}})}})},submit:function(){var a=this,t=this.$data.name,n=this.$data.phone,d=this.$data.address,r=this.$data.number,o=this.$data.imgBg1,l=this.$data.imgBg2;if(""==t)return i.default.errorTips("请填写姓名"),!1;if(""==n)return i.default.errorTips("请填写联系电话"),!1;if(""==d)return i.default.errorTips("请填写联系地址"),!1;if(""==r)return i.default.errorTips("请填写身份证号码"),!1;if("https://static.yidap.com/miniapp/o2o_find/index/img_bg.png"==o)return i.default.errorTips("请上传身份证正面照"),!1;if("https://static.yidap.com/miniapp/o2o_find/index/img_bg.png"==l)return i.default.errorTips("请上传身份证背面照"),!1;var u={consignee:t,mobile:n,address:d,id_card_no:r,id_card_front:o,id_card_back:l};""!=this.$data.id&&(u.id=this.$data.id),s.default.getInviteCode({method:"POST",data:u}).then(function(t){200==t.code||0==t.code?(i.default.successTips("提交成功"),a.$data.isExamine=!0,a.$data.status_label=t.data.status_label,a.$data.remark=t.data.remark,e.navigateTo({url:"../index/index"})):i.default.errorTips(t.msg)}).catch(function(e){i.default.errorTips(e.msg||e.message)})},getInviteCode:function(){var e=this;s.default.getInviteCode({}).then(function(a){200!=a.code&&0!=a.code||a.data.status>0&&(e.$data.isExamine=!0,e.$data.id=a.data.id,e.$data.name=a.data.consignee,e.$data.phone=a.data.mobile,e.$data.address=a.data.address,e.$data.number=a.data.id_card_no,e.$data.imgBg1=a.data.id_card_front,e.$data.imgBg2=a.data.id_card_back,e.$data.status_label=a.data.status_label,e.$data.remark=a.data.remark,3==a.data.status&&(e.$data.isExamine=!1))})}}};a.default=d}).call(this,t("6e42")["default"])},2988:function(e,a,t){},4258:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("view",{staticClass:"family"},[t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[e._v("姓名:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",disabled:e.isExamine,placeholder:"请输入姓名",eventid:"14d5de77-0"},domProps:{value:e.name},on:{input:[function(a){a.target.composing||(e.name=a.target.value)},e.getName]}})])]),t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[e._v("联系电话:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",disabled:e.isExamine,placeholder:"请输入联系电话",eventid:"14d5de77-1"},domProps:{value:e.phone},on:{input:[function(a){a.target.composing||(e.phone=a.target.value)},e.getPhone]}})])]),t("view",{staticClass:"cf address"},[t("view",{staticClass:"fll fs32 it-1"},[e._v("联系地址:")]),t("view",{staticClass:"fll fs32 it-2"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{placeholder:"请输入联系地址","auto-height":"true",disabled:e.isExamine,eventid:"14d5de77-2"},domProps:{value:e.address},on:{input:[function(a){a.target.composing||(e.address=a.target.value)},e.getAddress]}})])]),t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[e._v("身份证号码:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],attrs:{type:"text",disabled:e.isExamine,placeholder:"请输入身份证号码",eventid:"14d5de77-3"},domProps:{value:e.number},on:{input:[function(a){a.target.composing||(e.number=a.target.value)},e.getNumber]}})])]),t("view",{staticClass:"bgg",attrs:{eventid:"14d5de77-4"},on:{click:function(a){e.uploadImg(1)}}},[t("image",{attrs:{src:e.imgBg1}}),t("view",[e._v("请上传身份证正面(信息页)")])]),t("view",{staticClass:"bgg",attrs:{eventid:"14d5de77-5"},on:{click:function(a){e.uploadImg(2)}}},[t("image",{attrs:{src:e.imgBg2}}),t("view",[e._v("请上传身份证反面(国徽页)")])]),""!=e.id?t("view",{staticClass:"bt_item cf"},[t("view",{staticClass:"fll"},[e._v(e._s(e.status_label))]),t("view",{staticClass:"flr"},[e._v(e._s(e.remark||""))])]):e._e(),e.isExamine?e._e():t("view",{staticStyle:{"padding-bottom":"20rpx"},attrs:{eventid:"14d5de77-6"},on:{click:e.submit}},[t("view",{staticClass:"submit"},[e._v("提交")])])])},s=[];t.d(a,"a",function(){return i}),t.d(a,"b",function(){return s})},"554d":function(e,a,t){"use strict";t.r(a);var i=t("4258"),s=t("a711");for(var n in s)"default"!==n&&function(e){t.d(a,e,function(){return s[e]})}(n);t("993a");var d=t("2877"),r=Object(d["a"])(s["default"],i["a"],i["b"],!1,null,"00eac98c",null);a["default"]=r.exports},"993a":function(e,a,t){"use strict";var i=t("2988"),s=t.n(i);s.a},a711:function(e,a,t){"use strict";t.r(a);var i=t("12c1"),s=t.n(i);for(var n in i)"default"!==n&&function(e){t.d(a,e,function(){return i[e]})}(n);a["default"]=s.a},e4e5:function(e,a,t){"use strict";t("a3d9");var i=n(t("b0ce")),s=n(t("554d"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(s.default))}},[["e4e5","common/runtime","common/vendor"]]]);