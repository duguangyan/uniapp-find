(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/family"],{4258:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("view",{staticClass:"family"},[t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[a._v("姓名:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"name"}],attrs:{type:"text",disabled:a.isExamine,placeholder:"请输入姓名",eventid:"14d5de77-0"},domProps:{value:a.name},on:{input:[function(e){e.target.composing||(a.name=e.target.value)},a.getName]}})])]),t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[a._v("联系电话:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.phone,expression:"phone"}],attrs:{type:"number",disabled:a.isExamine,placeholder:"请输入联系电话",eventid:"14d5de77-1"},domProps:{value:a.phone},on:{input:[function(e){e.target.composing||(a.phone=e.target.value)},a.getPhone]}})])]),t("view",{staticClass:"cf address"},[t("view",{staticClass:"fll fs32 it-1"},[a._v("联系地址:")]),t("view",{staticClass:"fll fs32 it-2"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.address,expression:"address"}],attrs:{placeholder:"请输入联系地址","auto-height":"true",disabled:a.isExamine,eventid:"14d5de77-2"},domProps:{value:a.address},on:{input:[function(e){e.target.composing||(a.address=e.target.value)},a.getAddress]}})])]),t("view",{staticClass:"item cf"},[t("view",{staticClass:"fll fs32 it-1"},[a._v("身份证号码:")]),t("view",{staticClass:"fll fs32 it-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.number,expression:"number"}],attrs:{type:"text",disabled:a.isExamine,placeholder:"请输入身份证号码",eventid:"14d5de77-3"},domProps:{value:a.number},on:{input:[function(e){e.target.composing||(a.number=e.target.value)},a.getNumber]}})])]),t("view",{staticClass:"bgg",attrs:{eventid:"14d5de77-4"},on:{click:function(e){a.uploadImg(1)}}},[t("image",{attrs:{src:a.imgBg1}}),t("view",[a._v("请上传身份证正面(信息页)")])]),t("view",{staticClass:"bgg",attrs:{eventid:"14d5de77-5"},on:{click:function(e){a.uploadImg(2)}}},[t("image",{attrs:{src:a.imgBg2}}),t("view",[a._v("请上传身份证反面(国徽页)")])]),""!=a.id?t("view",{staticClass:"bt_item cf"},[t("view",{staticClass:"fll"},[a._v(a._s(a.status_label))]),t("view",{staticClass:"flr"},[a._v(a._s(a.remark||""))])]):a._e(),a.isExamine?a._e():t("view",{staticStyle:{"padding-bottom":"20rpx"},attrs:{eventid:"14d5de77-6"},on:{click:a.submit}},[t("view",{staticClass:"submit"},[a._v("提交")])])])},s=[];t.d(e,"a",function(){return i}),t.d(e,"b",function(){return s})},"554d":function(a,e,t){"use strict";t.r(e);var i=t("4258"),s=t("a711");for(var d in s)"default"!==d&&function(a){t.d(e,a,function(){return s[a]})}(d);t("993a");var n=t("2877"),r=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"00eac98c",null);e["default"]=r.exports},"70ca":function(a,e,t){"use strict";(function(a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=d(t("e378")),s=d(t("0089"));function d(a){return a&&a.__esModule?a:{default:a}}var n={data:function(){return{isExamine:!1,isCheck:!1,imgBg1:"https://static.yidap.com/miniapp/o2o_find/index/img_bg.png",imgBg2:"https://static.yidap.com/miniapp/o2o_find/index/img_bg.png",name:"",phone:"",address:"",number:"",status_label:"",remark:"",id:""}},onLoad:function(a){},onShow:function(){this.getInviteCode()},methods:{getName:function(a){this.$data.name=a.detail.value},getPhone:function(a){this.$data.phone=a.detail.value},getAddress:function(a){this.$data.address=a.detail.value},getNumber:function(a){this.$data.number=a.detail.value},uploadImg:function(e){var t=this,d=e;a.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var e=wx.getStorageSync("access_token")||"",n={file:"[object Object]",type:"big"},r=Date.parse(new Date);n.timestamp=r,n.sign=i.default.makeSign(s.default.apiUrl+"/api/upload",n),n.deviceId="wx",n.platformType="2",n.versionCode="4.0";wx.uploadFile({url:"".concat(s.default.apiUrl,"/api/upload"),filePath:a.tempFilePaths[0],name:"file",header:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(e)},formData:n,success:function(a){var e=JSON.parse(a.data);200===e.code||0===e.code?1==d?t.$data.imgBg1=e.data:t.$data.imgBg2=e.data:i.default.errorTips("上传错误")},fail:function(a){i.default.errorTips("上传错误")}})}})},submit:function(){var e=this,t=this.$data.name,d=this.$data.phone,n=this.$data.address,r=this.$data.number,o=this.$data.imgBg1,l=this.$data.imgBg2;if(""==t)return i.default.errorTips("请填写姓名"),!1;if(""==d)return i.default.errorTips("请填写联系电话"),!1;if(""==n)return i.default.errorTips("请填写联系地址"),!1;if(""==r)return i.default.errorTips("请填写身份证号码"),!1;if("https://static.yidap.com/miniapp/o2o_find/index/img_bg.png"==o)return i.default.errorTips("请上传身份证正面照"),!1;if("https://static.yidap.com/miniapp/o2o_find/index/img_bg.png"==l)return i.default.errorTips("请上传身份证背面照"),!1;var c={consignee:t,mobile:d,address:n,id_card_no:r,id_card_front:o,id_card_back:l};""!=this.$data.id&&(c.id=this.$data.id),s.default.getInviteCode({method:"POST",data:c}).then(function(t){200==t.code||0==t.code?(i.default.successTips("提交成功"),e.$data.isExamine=!0,e.$data.status_label=t.data.status_label,e.$data.remark=t.data.remark,a.navigateTo({url:"../index/index"})):i.default.errorTips(t.msg)}).catch(function(a){i.default.errorTips(a.msg||a.message)})},getInviteCode:function(){var a=this;s.default.getInviteCode({}).then(function(e){200!=e.code&&0!=e.code||e.data.status>0&&(a.$data.isExamine=!0,a.$data.id=e.data.id,a.$data.name=e.data.consignee,a.$data.phone=e.data.mobile,a.$data.address=e.data.address,a.$data.number=e.data.id_card_no,a.$data.imgBg1=e.data.id_card_front,a.$data.imgBg2=e.data.id_card_back,a.$data.status_label=e.data.status_label,a.$data.remark=e.data.remark,3==e.data.status&&(a.$data.isExamine=!1))})}}};e.default=n}).call(this,t("6e42")["default"])},"993a":function(a,e,t){"use strict";var i=t("d65c"),s=t.n(i);s.a},a711:function(a,e,t){"use strict";t.r(e);var i=t("70ca"),s=t.n(i);for(var d in i)"default"!==d&&function(a){t.d(e,a,function(){return i[a]})}(d);e["default"]=s.a},d65c:function(a,e,t){},e4e5:function(a,e,t){"use strict";t("a3d9");var i=d(t("b0ce")),s=d(t("554d"));function d(a){return a&&a.__esModule?a:{default:a}}Page((0,i.default)(s.default))}},[["e4e5","common/runtime","common/vendor"]]]);