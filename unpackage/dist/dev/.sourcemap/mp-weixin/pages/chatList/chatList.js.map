{"version":3,"sources":["webpack:///E:/uniapp/find.yidapi.com.cn/main.js","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?6dfc","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?c410","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?7018","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?5af6","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?04f8","webpack:///E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue?65cd"],"names":["Page","App"],"mappings":";;;;;;;;;;AAAA;AACA;AACI,sG;AACAA,IAAI,CAAC,+BAAYC,iBAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmG;AACvC;AACL;AACsC;;;AAG7F;AACsI;AACtI,gBAAgB,mJAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAwC;AACvD,KAAK;AACL;AACA;AACA;AACA,SAAS,0BAA0B;AACnC;AACA,6BAA6B,gDAAgD;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,mBAAmB;AACnB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,4BAA4B,iCAAiC;AAC7D,4BAA4B;AAC5B,mBAAmB;AACnB;AACA,gCAAgC,6BAA6B;AAC7D,mCAAmC,SAAS,yBAAyB,EAAE;AACvE;AACA,gCAAgC,4BAA4B;AAC5D,kCAAkC,qBAAqB;AACvD,oCAAoC,0BAA0B;AAC9D;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA,kCAAkC,wBAAwB;AAC1D,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA,kCAAkC,iCAAiC;AACnE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iCAAiC;AAC/D;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,4BAA4B,eAAe,gBAAgB,EAAE;AAC7D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa,kCAAkC,oBAAoB,EAAE;AACrE;AACA,0BAA0B,2BAA2B;AACrD,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,yBAAyB;AACzB,mBAAmB;AACnB;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB,8BAA8B,2BAA2B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;ACjKA;AAAA;AAAA;AAAA;AAA+vB,CAAgB,0wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmDnxB,iG;AACA;AACA;AACA,gBADA,0BACA;AACA;AACA,KAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,gDADA;AAEA,oBAFA;AAGA,sBAHA;AAIA,iBAJA;AAKA,eALA;AAMA,cANA;AAOA,kBAPA;AAQA,oBARA;AASA,cATA;AAUA,oBAVA;AAWA,sBAXA;AAYA,eAZA;AAaA,mBAbA;;AAeA,GAtBA;AAuBA,QAvBA,kBAuBA,MAvBA,EAuBA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GA3CA;AA4CA,QA5CA,oBA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA;AACA,KAJA;AAKA,GA/EA;AAgFA,UAhFA,sBAgFA;AACA;AACA,GAlFA;AAmFA;AACA;AACA;AACA,6DADA;AAEA,oBAFA;AAGA,uBAHA;AAIA,uBAJA;AAKA,kBALA;AAMA,qBANA;AAOA,qBAPA;AAQA,uBARA;AASA,oBATA;;AAWA;AACA,qCADA;;AAGA,KAhBA;AAiBA,eAjBA,yBAiBA;AACA;AACA,KAnBA;AAoBA;AACA,cArBA,sBAqBA,CArBA,EAqBA,KArBA,EAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eADA,CACA,YADA;AAEA,wBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA,OAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KA7CA;AA8CA;AACA,aA/CA,qBA+CA,CA/CA,EA+CA,KA/CA,EA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1DA;AA2DA;AACA,YA5DA,oBA4DA,CA5DA,EA4DA,KA5DA,EA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA3EA;AA4EA;AACA,WA7EA,mBA6EA,IA7EA,EA6EA,KA7EA,EA6EA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,+JADA;;AAGA;AACA,KAzFA;AA0FA;AACA,OA3FA,eA2FA,EA3FA,EA2FA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAlGA;AAmGA;AACA,WApGA,mBAoGA,KApGA,EAoGA,EApGA,EAoGA;AACA;AACA;AACA,iBADA;AAEA,6BAFA;AAGA,yBAHA;AAIA,+BAJA;AAKA;AACA;AACA;AACA;AACA,6BADA;AAEA,4BAFA;AAGA,4BAHA;;AAKA,WAPA,MAOA;AACA;AACA;AACA,SAhBA;;AAkBA,KAxHA,EAnFA,E;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAkoC,CAAgB,4mCAAG,EAAC,C;;;;;;;;;;;ACAtpC,uC","file":"pages/chatList/chatList.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/chatList/chatList.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./chatList.vue?vue&type=template&id=12b5d4b2&scoped=true&\"\nimport script from \"./chatList.vue?vue&type=script&lang=js&\"\nexport * from \"./chatList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatList.vue?vue&type=style&index=0&id=12b5d4b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12b5d4b2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('12b5d4b2', component.options)\n    } else {\n      api.reload('12b5d4b2', component.options)\n    }\n    module.hot.accept(\"./chatList.vue?vue&type=template&id=12b5d4b2&scoped=true&\", function () {\n      api.rerender('12b5d4b2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/uniapp/find.yidapi.com.cn/pages/chatList/chatList.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatList.vue?vue&type=template&id=12b5d4b2&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {\n      staticClass: \"index\",\n      style: [{ \"min-height\": _vm.secondHeight + \"px\" }]\n    },\n    [\n      _c(\n        \"view\",\n        { staticClass: \"list-box\" },\n        _vm._l(_vm.list, function(item, index) {\n          return _c(\"view\", { key: index, staticClass: \"container_of_slide\" }, [\n            _c(\n              \"view\",\n              {\n                staticClass: \"slide_list\",\n                style: {\n                  transform: \"translate3d(\" + item.slide_x + \"px, 0, 0)\"\n                },\n                attrs: { eventid: \"2c59a812-2-\" + index },\n                on: {\n                  touchstart: function($event) {\n                    _vm.touchStart($event, index)\n                  },\n                  touchend: function($event) {\n                    _vm.touchEnd($event, index)\n                  },\n                  touchmove: function($event) {\n                    _vm.touchMove($event, index)\n                  },\n                  tap: function($event) {\n                    _vm.recover(item, index)\n                  }\n                }\n              },\n              [\n                _c(\n                  \"view\",\n                  {\n                    staticClass: \"now-message-info\",\n                    style: { width: _vm.Screen_width + \"px\" },\n                    attrs: { \"hover-class\": \"uni-list-cell-hover\" }\n                  },\n                  [\n                    _c(\"view\", { staticClass: \"icon-circle\" }, [\n                      _c(\"image\", { attrs: { src: item.toAvatarPath } })\n                    ]),\n                    _c(\"view\", { staticClass: \"list-right\" }, [\n                      _c(\"view\", { staticClass: \"top\" }, [\n                        _c(\"view\", { staticClass: \"username\" }, [\n                          _vm._v(_vm._s(item.nickName || item.userName))\n                        ]),\n                        _c(\"view\", { staticClass: \"time\" }, [\n                          _vm._v(_vm._s(item.userMessage.dateTime))\n                        ])\n                      ]),\n                      _c(\"view\", { staticClass: \"bottom\" }, [\n                        _c(\"view\", { staticClass: \"msg\" }, [\n                          _vm._v(\n                            _vm._s(\n                              item.userMessage.smsType == \"TEXT\"\n                                ? item.userMessage.content\n                                : \"[图片]\"\n                            )\n                          )\n                        ]),\n                        item.unRead > 0\n                          ? _c(\"view\", { staticClass: \"tis\" }, [\n                              _vm._v(\n                                _vm._s(item.unRead > 99 ? \"99..\" : item.unRead)\n                              )\n                            ])\n                          : _vm._e()\n                      ])\n                    ])\n                  ]\n                ),\n                _c(\"view\", { staticClass: \"group-btn\" }, [\n                  item.isShare\n                    ? _c(\n                        \"view\",\n                        {\n                          staticClass: \"top btn-div\",\n                          attrs: { eventid: \"2c59a812-0-\" + index },\n                          on: {\n                            tap: function($event) {\n                              _vm.top(item.id)\n                            }\n                          }\n                        },\n                        [_vm._v(\"分享\")]\n                      )\n                    : _vm._e(),\n                  _c(\n                    \"view\",\n                    {\n                      staticClass: \"removeM btn-div\",\n                      attrs: { eventid: \"2c59a812-1-\" + index },\n                      on: {\n                        tap: function($event) {\n                          _vm.removeM(index, item.userInfoId)\n                        }\n                      }\n                    },\n                    [_vm._v(\"删除\")]\n                  )\n                ]),\n                _c(\"view\", { staticStyle: { clear: \"both\" } })\n              ]\n            )\n          ])\n        })\n      ),\n      _vm.visible\n        ? _c(\n            \"view\",\n            { staticClass: \"scan-box\", attrs: { mode: \"top-right\" } },\n            [\n              _c(\"view\", { staticClass: \"scan-item\" }, [\n                _c(\"view\", { staticClass: \"scan-content\" }, [\n                  _vm._m(0),\n                  _c(\"image\", {\n                    staticClass: \"scan-btn\",\n                    attrs: {\n                      src: \"../../static/slide-list/fork.png\",\n                      eventid: \"2c59a812-3\"\n                    },\n                    on: { click: _vm.cancelEvent }\n                  }),\n                  _c(\"image\", {\n                    staticClass: \"scan-img\",\n                    attrs: { src: _vm.img }\n                  }),\n                  _c(\"view\", { staticClass: \"scan-text\" }, [\n                    _vm._v(\"扫一扫查看分享信息\")\n                  ])\n                ])\n              ])\n            ]\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"scan-icon\" }, [\n      _c(\"image\", {\n        staticClass: \"scan-icon-img\",\n        attrs: { src: \"../../static/slide-list/icon-scan.png\" }\n      })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index\" v-bind:style=\"[{'min-height': secondHeight + 'px' }]\">\r\n\t\t<!-- 数据列表 -->\r\n\t\t<view class=\"list-box\">\r\n\t\t\t<view class=\"container_of_slide\" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t<view class=\"slide_list\" @touchstart=\"touchStart($event,index)\" @touchend=\"touchEnd($event,index)\" @touchmove=\"touchMove($event,index)\"\r\n\t\t\t\t @tap=\"recover(item, index)\" :style=\"{transform:'translate3d('+item.slide_x+'px, 0, 0)'}\">\r\n\t\t\t\t\t<view class=\"now-message-info\" hover-class=\"uni-list-cell-hover\" :style=\"{width:Screen_width+'px'}\">\r\n\t\t\t\t\t\t<view class=\"icon-circle\"><image :src=\"item.toAvatarPath\"></image></view>\r\n\t\t\t\t\t\t<view class=\"list-right\">\r\n\t\t\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t\t\t<view class=\"username\">{{item.nickName || item.userName}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"time\">{{item.userMessage.dateTime}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"msg\">{{item.userMessage.smsType == 'TEXT' ? item.userMessage.content : '[图片]'}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tis\" v-if=\"item.unRead>0\">{{item.unRead > 99 ? '99..' : item.unRead}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"group-btn\">\r\n\t\t\t\t\t\t<view class=\"top btn-div\" @tap=\"top(item.id)\" v-if=\"item.isShare\">\r\n\t\t\t\t\t\t\t分享\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"removeM btn-div\" @tap=\"removeM(index, item.userInfoId)\">\r\n\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"clear:both\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 分享弹窗 -->\r\n\t\t<view mode=\"top-right\" class=\"scan-box\" v-if=\"visible\">\r\n\t\t\t<view class=\"scan-item\">\r\n\t\t\t\t<view class=\"scan-content\">\r\n\t\t\t\t\t<view class=\"scan-icon\">\r\n\t\t\t\t\t\t<image src=\"../../static/slide-list/icon-scan.png\" class=\"scan-icon-img\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image src=\"../../static/slide-list/fork.png\" class=\"scan-btn\" @click=\"cancelEvent\"></image>\r\n\t\t\t\t\t<image :src=\"img\" class=\"scan-img\"></image>\r\n\t\t\t\t\t<view class=\"scan-text\">\r\n\t\t\t\t\t\t扫一扫查看分享信息\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport socket from '../../utils/socket-io.js'\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\tScreen_width() {\r\n\t\t\t\treturn uni.getSystemInfoSync().windowWidth;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timg: '../../static/slide-list/qr_code.png',\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tstart_slide_x: 0,\r\n\t\t\t\tbtnWidth: 0,\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tLastX: 0,\r\n\t\t\t\tstartTime: 0,\r\n\t\t\t\tscreenName: '',\r\n\t\t\t\tlist : [],\r\n\t\t\t\tbtuBottom: '0',\r\n\t\t\t\tsecondHeight: '',\r\n\t\t\t\tindex: -1,\r\n\t\t\t\tfromUserId: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.globalData.initType = 1;\r\n\t\t\tif (this.globalData.userId && this.globalData.userId != '') {\r\n\t\t\t\tsocket.initSocket(this.globalData.userId, this.globalData.toUserId)\r\n\t\t\t} else {\r\n\t\t\t\tlet fromUserId = uni.getStorageSync('userInfo').id;\r\n\t\t\t\tif (fromUserId && fromUserId != '') {\r\n\t\t\t\t\tsocket.initSocket(fromUserId, option.toUserId)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn('用户id不存在，连接失败！！！')\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.fromUserId = fromUserId;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.setStorageSync('token', option.token || uni.getStorageSync('token'))\r\n\t\t\t\r\n\t\t\tif (this.globalData.connentSocket) {\r\n\t\t\t\tthis.onSend()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet that = this;\r\n\t\t\tconst res = uni.getSystemInfoSync();\r\n\t\t\t// 计算主体部分高度,单位为px\r\n\t\t\tthis.secondHeight = res.windowHeight;\r\n\t\t\t// 接收消息\r\n\t\t\tthis.globalData.callback = function (res) {\r\n\t\t\t\tconsole.log('接收数据:',res);\r\n\t\t\t\tif (res && res.length > 0) {\r\n\t\t\t\t\tfor (let value in res) {\r\n\t\t\t\t\t\tres[value].slide_x = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.list = res;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (res.fromUserId != 0) {\r\n\t\t\t\t\t\tlet key = that.list.findIndex((value, index) => {\r\n\t\t\t\t\t\t\treturn value.userInfoId == res.userInfoId\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (key != -1) {\r\n\t\t\t\t\t\t\tthat.list[key].userMessage = res\r\n\t\t\t\t\t\t\tthat.list[key].unRead++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.onSend()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tuni.$on('message', function(data) {\r\n\t\t\t\tthat.list[that.index].userMessage = data\r\n\t\t\t});\r\n\t\t\tuni.$on('chatList', function(data) {\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tthat.onSend()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSend: function() {\r\n\t\t\t\tlet message = {\r\n\t\t\t\t\tfromUserId: this.fromUserId || this.globalData.userId,\r\n\t\t\t\t\ttoUserId: '',\r\n\t\t\t\t\tcontent: 'page',\r\n\t\t\t\t\tsmsType: 'TEXT',\r\n\t\t\t\t\tsysType: 1,\r\n\t\t\t\t\tsmsStatus: 10,\r\n\t\t\t\t\tsmsList: true,\r\n\t\t\t\t\tcurrentPage: '',\r\n\t\t\t\t\tpageSize: ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.globalData.localSocket.send({\r\n\t\t\t\t\tdata: JSON.stringify(message)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcancelEvent(){\r\n\t\t\t\tthis.visible = false\r\n\t\t\t},\r\n\t\t\t// 滑动开始\r\n\t\t\ttouchStart(e, index) {\r\n\t\t\t\t//记录手指放上去的时间\r\n\t\t\t\tthis.startTime = e.timeStamp;\r\n\t\t\t\t//记录滑块的初始位置\r\n\t\t\t\tthis.start_slide_x = this.list[index].slide_x;\r\n\t\t\t\t// 按钮宽度\r\n\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t.selectAll('.group-btn')\r\n\t\t\t\t\t.boundingClientRect()\r\n\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\tif (res[0] != null) {\r\n\t\t\t\t\t\t\tthis.btnWidth = res[0][index].width * -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t// 记录上一次开始时手指所处位置\r\n\t\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\t\t// 记录上一次手指位置\r\n\t\t\t\tthis.lastX = this.startX;\r\n\t\t\t\t//初始化非当前滑动消息列的位置\r\n\t\t\t\tthis.list.forEach((item, eq) => {\r\n\t\t\t\t\tif (eq !== index) {\r\n\t\t\t\t\t\titem.slide_x = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 滑动中\r\n\t\t\ttouchMove(e, index) {\r\n\t\t\t\tconst endX = e.touches[0].pageX;\r\n\t\t\t\tconst distance = endX - this.lastX;\r\n\t\t\t\t// 预测滑块所处位置\r\n\t\t\t\tconst duang = this.list[index].slide_x + distance;\r\n\t\t\t\t// 如果在可行区域内\r\n\t\t\t\tif (duang <= 0 && duang >= this.btnWidth) {\r\n\t\t\t\t\tthis.list[index].slide_x = duang;\r\n\t\t\t\t}\r\n\t\t\t\t// 此处手指所处位置将成为下次手指移动时的上一次位置\r\n\t\t\t\tthis.lastX = endX;\r\n\t\t\t},\r\n\t\t\t// 滑动结束\r\n\t\t\ttouchEnd(e, index) {\r\n\t\t\t\tlet distance = 10;\r\n\t\t\t\tconst endTime = e.timeStamp;\r\n\t\t\t\tconst x_end_distance = this.startX - this.lastX;\r\n\t\t\t\tif (Math.abs(endTime - this.startTime) > 200) {\r\n\t\t\t\t\tdistance = this.btnWidth / -2;\r\n\t\t\t\t}\r\n\t\t\t\t// 判断手指最终位置与手指开始位置的位置差距\r\n\t\t\t\tif (x_end_distance > distance) {\r\n\t\t\t\t\tthis.list[index].slide_x = this.btnWidth;\r\n\t\t\t\t} else if (x_end_distance < distance * -1) {\r\n\t\t\t\t\tthis.list[index].slide_x = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list[index].slide_x = this.start_slide_x;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 点击回复原状\r\n\t\t\trecover(item, index) {\r\n\t\t\t\tthis.index = index\r\n\t\t\t\tif (item.slide_x && item.slide_x != 0) {\r\n\t\t\t\t\tthis.list[index].slide_x = 0\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list[index].unRead = 0;\r\n\t\t\t\t\tuni.setStorageSync('toAvatarPath', item.toAvatarPath);\r\n\t\t\t\t\tuni.setStorageSync('fromAvatarPath', item.fromAvatarPath);\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `../chat/chat?name=${item.nickName}&fromUserId=${this.fromUserId || this.globalData.userId}&toUserId=${item.toUserId}`\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 分享\r\n\t\t\ttop(id) {\r\n\t\t\t\tconsole.log('点击分享')\r\n\t\t\t\tif(this.visible){\r\n\t\t\t\t\tthis.visible = false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.visible = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tremoveM(index, id) {\r\n\t\t\t\tlet self = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcontent: '确定要删除该信息吗？',\r\n\t\t\t\t\tconfirmText: '删除',\r\n\t\t\t\t\tconfirmColor: '#ff3b32',\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tself.list.splice(index, 1)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\ttitle: '操作成功!',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.index{\r\n\t\tbackground: #F8F8F8;\r\n\t}\r\n\t.list-box{\r\n\t\tpadding: 20upx 0;\r\n\t}\r\n\t.container_of_slide {\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.slide_list {\r\n\t\ttransition: all 100ms;\r\n\t\ttransition-timing-function: ease-out;\r\n\t\tmin-width: 200%;\r\n\t\theight: 140upx;\r\n\t}\r\n\t.slide_list:before {\r\n\t\tcontent: \" \";\r\n\t\tposition: absolute;\r\n\t\tz-index: 3;\r\n\t\tleft: 160upx;\r\n\t\tbottom: -1px;\r\n\t\twidth: 100%;\r\n\t\theight: 1px;\r\n\t\tborder-bottom: 1px solid #D9D9D9;\r\n\t\t-webkit-transform-origin: 0 0;\r\n\t\ttransform-origin: 0 0;\r\n\t\t-webkit-transform: scaleY(.5);\r\n\t\ttransform: scaleY(.5)\r\n\t}\r\n\t.container_of_slide:last-child .slide_list:before{\r\n\t\tdisplay: none;\r\n\t}\r\n\t.now-message-info {\r\n\t\tbox-sizing:border-box;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 16px;\r\n\t\tclear:both;\r\n\t\theight: 140upx;\r\n\t\tpadding: 0 30upx;\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\t.now-message-info,.group-btn {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.group-btn {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\theight: 140upx;\r\n\t\tmin-width: 100upx;\r\n\t\talign-items: center;\r\n\r\n\t}\r\n\r\n\t.group-btn .btn-div {\r\n\t\theight: 140upx;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tpadding: 0 50upx;\r\n\t\tfont-size: 34upx;\r\n\t\tline-height: 140upx;\r\n\t}\r\n\r\n\t.group-btn .top {\r\n\t\tbackground-color: #c4c7cd;\r\n\t}\r\n\r\n\t.group-btn .removeM {\r\n\t\tbackground-color: #ff3b32;\r\n\t}\r\n\r\n\t.icon-circle {\r\n\t\twidth:100upx;\r\n\t\theight: 100upx;\r\n\t\tline-height:100upx;\r\n\t\ttext-align:center;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 20px;\r\n\t\tfloat: left;\r\n\t}\r\n\t.icon-circle image{\r\n\t\twidth:100upx;\r\n\t\theight:100upx;\r\n\t\t-webkit-border-radius:20upx;\r\n\t\tborder-radius:12upx;\r\n\t}\r\n\t.list-right {\r\n\t\tflex-shrink:1;\r\n\t\twidth:98%;\r\n\t\tpadding:6upx 0 6upx 5%;\r\n\t}\r\n\t.list-right .top {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 10upx;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-end;\r\n\t}\r\n\t.list-right .top .username {\r\n\t\tfont-size: 30upx;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\t.list-right .top .time {\r\n\t\tfont-size: 25upx;\r\n\t\tcolor: #bebebe;\r\n\t}\r\n\t.list-right .bottom {\r\n\t\twidth: 100%;\r\n\t\theight: 40upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t.list-right .bottom .msg {\r\n\t\twidth: 90%;\r\n\t\tfont-size: 25upx;\r\n\t\tcolor: #777;\r\n\t\tdisplay:-webkit-box;\r\n\t\t-webkit-box-orient:vertical;\r\n\t\t-webkit-line-clamp:1;\r\n\t\toverflow:hidden;\r\n\t\tmargin-right: 30upx;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.list-right .bottom .tis {\r\n\t\tpadding: 3upx 12upx;\r\n\t\tfont-size: 22upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #eb4d3d;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 6upx;\r\n\t}\r\n\t.button-box{\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tz-index: 998;\r\n\t\tbackground: #F8F8F8;\r\n\t}\r\n\t.btn-sub{\r\n\t\tdisplay: -webkit-box;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\t-webkit-box-pack: center;\r\n\t\t-webkit-justify-content: center;\r\n\t\tjustify-content: center;\r\n\t\t-webkit-box-align: center;\r\n\t\t-webkit-align-items: center;\r\n\t\talign-items: center;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-box-direction: normal;\r\n\t\tfloat: left;\r\n\t\twidth: 100%;\r\n\t\theight: 100upx;\r\n\t\tbackground: #F8F8F8;\r\n\t\tcolor: #7fb2ff;\r\n\t}\r\n\t.btn-plusempty{\r\n\t\twidth: 110upx;\r\n\t\theight: 110upx;\r\n\t\tbackground: #007bfa;\r\n\t\tposition: fixed;\r\n\t\tbottom: 50upx;\r\n\t\tright: 20upx;\r\n\t\tborder-radius: 100%;\r\n\t\toverflow: hidden;\r\n\t\ttext-align: center;\r\n\t\tline-height: 110upx;\r\n\t}\r\n\t.empty{\r\n\t\tcolor: #999999;\r\n\t}\r\n\t.plusempty-img{\r\n\t\twidth: 50upx;\r\n\t\theight: 50upx;\r\n\t\tmargin-top: 30upx;\r\n\t}\r\n\t.scan-box{\r\n\t\tdisplay:block;\r\n\t\tposition:fixed;\r\n\t\ttop:0;\r\n\t\tbottom:0;\r\n\t\tleft:0;\r\n\t\tright:0;\r\n\t\tbackground-color:rgba(0, 0, 0, 0.3);\r\n\t\tz-index:99999;\r\n\t}\r\n\t.scan-item{\r\n\t\tdisplay:-webkit-box;\r\n\t\tdisplay:-webkit-flex;\r\n\t\tdisplay:-ms-flexbox;\r\n\t\tdisplay:flex;\r\n\t\tposition:relative;\r\n\t\tmargin:0 auto;\r\n\t\twidth:80%;\r\n\t\theight:100%;\r\n\t\t-webkit-box-pack:center;\r\n\t\t-webkit-justify-content:center;\r\n\t\t-ms-flex-pack:center;\r\n\t\tjustify-content:center;\r\n\t\t-webkit-box-align:center;\r\n\t\t-webkit-align-items:center;\r\n\t\t-ms-flex-align:center;\r\n\t\talign-items:center;\r\n\t\t-webkit-box-sizing:border-box;\r\n\t\tbox-sizing:border-box;\r\n\t\topacity:1;\r\n\r\n\t}\r\n\t.scan-content{\r\n\t\tposition:relative;\r\n\t\twidth: 400upx;\r\n\t\theight: 500upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 20upx;\r\n\t}\r\n\t.scan-icon{\r\n\t\tposition: absolute;\r\n\t\ttop: -50upx;\r\n\t\tleft: 150upx;\r\n\t\twidth: 100upx;\r\n\t\theight: 100upx;\r\n\t\tborder-radius: 100%;\r\n\t\tbox-sizing:border-box;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 20upx;\r\n\t}\r\n\t.scan-icon-img{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.scan-text{\r\n\t\tposition: absolute;\r\n\t\tbottom: 40upx;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.scan-share{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.scan-img{\r\n\t\twidth: 300upx;\r\n\t\theight: 300upx;\r\n\t\tmargin: auto;\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 80upx;\r\n\t\tleft: 50upx;\r\n\t\tz-index: 99;\r\n\t}\r\n\t.scan-btn{\r\n\t\ttop:-30upx;\r\n\t\tleft:auto;\r\n\t\tright:-30upx;\r\n\t\tbottom:auto;\r\n\t\tposition:absolute;\r\n\t\twidth:64upx;\r\n\t\theight:64upx;\r\n\t\tborder-radius:50%;\r\n\t\tz-index:99999;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.uni-list-cell-hover {\r\n\t\tbackground-color: #eeeeee;\r\n\t}\r\n\t.bottom-btn-hover{\r\n\t\tbackground: #0564c7!important;;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatList.vue?vue&type=style&index=0&id=12b5d4b2&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatList.vue?vue&type=style&index=0&id=12b5d4b2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}